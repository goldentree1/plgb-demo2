{"version":3,"file":"YScaleBars-Dg1jTdBj.js","sources":["../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/RectBg.js","../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/LegendItem.js","../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/LegendItemText.js","../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ColorLegend.js","../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/FullHeightScaleBar.js","../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ScoreLegend.js","../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/IndividualScaleBars.js","../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/YScaleBars.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getFillProps } from '@jbrowse/core/util';\nconst RectBg = (props) => {\n    const { color = 'rgb(255,255,255,0.8)' } = props;\n    return _jsx(\"rect\", { ...props, ...getFillProps(color) });\n};\nexport default RectBg;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport RectBg from './RectBg';\nconst LegendItem = function ({ source, idx, rowHeight, labelWidth, model, exportSVG, }) {\n    const boxHeight = Math.min(20, rowHeight);\n    const { needsCustomLegend, graphType, needsFullHeightScalebar, rowHeightTooSmallForScalebar, renderColorBoxes, } = model;\n    const colorBoxWidth = renderColorBoxes ? 15 : 0;\n    const legendWidth = labelWidth + colorBoxWidth + 5;\n    const svgOffset = exportSVG ? 10 : 0;\n    const extraOffset = svgOffset || (graphType && !rowHeightTooSmallForScalebar ? 50 : 0);\n    return (_jsxs(_Fragment, { children: [needsFullHeightScalebar ? null : (_jsx(RectBg, { y: idx * rowHeight + 1, x: extraOffset, width: legendWidth, height: boxHeight })), source.color ? (_jsx(RectBg, { y: idx * rowHeight + 1, x: extraOffset, width: colorBoxWidth, height: needsCustomLegend ? rowHeight : boxHeight, color: source.color })) : null] }));\n};\nexport default LegendItem;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nconst LegendItemText = function ({ source, idx, rowHeight, model, exportSVG, }) {\n    const { graphType, rowHeightTooSmallForScalebar, renderColorBoxes } = model;\n    const svgFontSize = Math.min(rowHeight, 12);\n    const canDisplayLabel = rowHeight >= 6;\n    const colorBoxWidth = renderColorBoxes ? 15 : 0;\n    const svgOffset = exportSVG ? 10 : 0;\n    const extraOffset = svgOffset || (graphType && !rowHeightTooSmallForScalebar ? 50 : 0);\n    return canDisplayLabel ? (_jsx(\"text\", { y: idx * rowHeight + 13, x: extraOffset + colorBoxWidth + 2, fontSize: svgFontSize, children: source.name })) : null;\n};\nexport default LegendItemText;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { observer } from 'mobx-react';\nimport LegendItem from './LegendItem';\nimport LegendItemText from './LegendItemText';\nimport RectBg from './RectBg';\nconst ColorLegend = observer(function ({ model, rowHeight, exportSVG, }) {\n    const { graphType, needsFullHeightScalebar, rowHeightTooSmallForScalebar, renderColorBoxes, sources, labelWidth, } = model;\n    const colorBoxWidth = renderColorBoxes ? 15 : 0;\n    const legendWidth = labelWidth + colorBoxWidth + 5;\n    const svgOffset = exportSVG ? 10 : 0;\n    const extraOffset = svgOffset || (graphType && !rowHeightTooSmallForScalebar ? 50 : 0);\n    return sources ? (_jsxs(_Fragment, { children: [needsFullHeightScalebar ? (_jsx(RectBg, { y: 0, x: extraOffset, width: legendWidth, height: (sources.length + 0.25) * rowHeight })) : null, sources.map((source, idx) => (_jsx(LegendItem, { source: source, idx: idx, model: model, rowHeight: rowHeight, exportSVG: exportSVG, labelWidth: labelWidth }, `${source.name}-${idx}`))), sources.map((source, idx) => (_jsx(LegendItemText, { source: source, idx: idx, model: model, rowHeight: rowHeight, exportSVG: exportSVG }, `${source.name}-text-${idx}`)))] })) : null;\n});\nexport default ColorLegend;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { getContainingView } from '@jbrowse/core/util';\nimport { observer } from 'mobx-react';\nimport ColorLegend from './ColorLegend';\nimport { getOffset } from './util';\nimport YScaleBar from '../../shared/YScaleBar';\nconst FullHeightScaleBar = observer(function ({ model, orientation, exportSVG, }) {\n    const { labelWidth } = model;\n    const { width: viewWidth } = getContainingView(model);\n    return (_jsxs(_Fragment, { children: [_jsx(\"g\", { transform: `translate(${!exportSVG ? getOffset(model) : 0},0)`, children: _jsx(YScaleBar, { model: model, orientation: orientation }) }), _jsx(\"g\", { transform: `translate(${viewWidth - labelWidth - 100},0)`, children: _jsx(ColorLegend, { exportSVG: exportSVG, model: model, rowHeight: 12 }) })] }));\n});\nexport default FullHeightScaleBar;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { getContainingView, measureText } from '@jbrowse/core/util';\nimport { observer } from 'mobx-react';\nimport RectBg from './RectBg';\nconst ScoreLegend = observer(({ model }) => {\n    const { ticks, scaleType } = model;\n    const { width } = getContainingView(model);\n    const legend = `[${ticks === null || ticks === void 0 ? void 0 : ticks.values[0]}-${ticks === null || ticks === void 0 ? void 0 : ticks.values[1]}]${scaleType === 'log' ? ' (log scale)' : ''}`;\n    const len = measureText(legend, 14);\n    const padding = 25;\n    const xpos = width - len - padding;\n    return (_jsxs(_Fragment, { children: [_jsx(RectBg, { y: 0, x: xpos, width: len + 6, height: 16 }), _jsx(\"text\", { y: 13, x: xpos, children: legend })] }));\n});\nexport default ScoreLegend;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { observer } from 'mobx-react';\nimport ColorLegend from './ColorLegend';\nimport ScoreLegend from './ScoreLegend';\nimport YScaleBar from '../../shared/YScaleBar';\nconst IndividualScaleBars = observer(function ({ model, orientation, exportSVG, }) {\n    const { sources, rowHeight, rowHeightTooSmallForScalebar, needsCustomLegend, ticks, } = model;\n    return (sources === null || sources === void 0 ? void 0 : sources.length) ? (_jsxs(_Fragment, { children: [_jsx(ColorLegend, { exportSVG: exportSVG, model: model, rowHeight: model.rowHeight }), rowHeightTooSmallForScalebar || needsCustomLegend ? (_jsx(ScoreLegend, { model: model })) : (sources.map((_source, idx) => (_jsx(\"g\", { transform: `translate(0 ${rowHeight * idx})`, children: _jsx(YScaleBar, { model: model, orientation: orientation }) }, `${JSON.stringify(ticks)}-${idx}`))))] })) : null;\n});\nexport default IndividualScaleBars;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { getContainingView } from '@jbrowse/core/util';\nimport { observer } from 'mobx-react';\nimport FullHeightScaleBar from './FullHeightScaleBar';\nimport IndividualScaleBars from './IndividualScaleBars';\nconst Wrapper = observer(function ({ children, model, exportSVG, }) {\n    const { height } = model;\n    return exportSVG ? (children) : (_jsx(\"svg\", { style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            pointerEvents: 'none',\n            height,\n            width: getContainingView(model).width,\n        }, children: children }));\n});\nexport const YScaleBars = observer(function (props) {\n    const { model, orientation, exportSVG } = props;\n    const { showSidebar, stats, needsFullHeightScalebar, sources } = model;\n    return stats && sources ? (_jsx(Wrapper, { ...props, children: showSidebar ? (needsFullHeightScalebar ? (_jsx(FullHeightScaleBar, { model: model, orientation: orientation, exportSVG: exportSVG })) : (_jsx(IndividualScaleBars, { model: model, orientation: orientation, exportSVG: exportSVG }))) : null })) : null;\n});\nexport default YScaleBars;\n"],"names":["RectBg","props","color","_jsx","getFillProps","LegendItem","source","idx","rowHeight","labelWidth","model","exportSVG","boxHeight","needsCustomLegend","graphType","needsFullHeightScalebar","rowHeightTooSmallForScalebar","renderColorBoxes","colorBoxWidth","legendWidth","extraOffset","_jsxs","_Fragment","LegendItemText","svgFontSize","canDisplayLabel","ColorLegend","observer","sources","FullHeightScaleBar","orientation","viewWidth","getContainingView","getOffset","YScaleBar","ScoreLegend","ticks","scaleType","width","legend","len","measureText","xpos","IndividualScaleBars","_source","Wrapper","children","height","YScaleBars","showSidebar","stats"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}