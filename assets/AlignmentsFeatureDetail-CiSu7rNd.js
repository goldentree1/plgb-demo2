import{g as d,bQ as m,j as e,M as u,m as f,r as l,aY as p,u as h,o as c,S as g}from"./rpcWorker-X0469dqW.js";import{B as b,F as y}from"./FeatureDetails-CnuNWLxG.js";import{F as x}from"./FormControlLabel-1s92K5sy.js";import{C}from"./Checkbox-CZRpP34h.js";import{L as S}from"./Link-3UxVx-0U.js";var v=m(),q=d(v);const w=f()({compact:{paddingRight:0,paddingTop:0,paddingBottom:0}}),j=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function F(a){const{classes:n}=w(),{flags:t}=a;return e.jsxs(b,{...a,title:"Flags",children:[e.jsx(q,{name:"Flag",value:t}),e.jsx(u,{children:j.map((i,o)=>{const r=t&1<<o,s=`${i}_${r}`;return e.jsx(x,{control:e.jsx(C,{className:n.compact,checked:!!r,name:i,readOnly:!0}),label:i},s)})})]})}function R({value:a}){const[n,t]=l.useState(!1),[i,o]=l.useState(!1),r=String(a);return r.length>100?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>{p(r),o(!0),setTimeout(()=>{o(!1)},700)},children:i?"Copied to clipboard":"Copy"}),e.jsx("button",{type:"button",onClick:()=>{t(s=>!s)},children:n?"Show less":"Show more"}),e.jsx("div",{children:n?r:`${r.slice(0,100)}...`})]}):e.jsx("div",{children:r})}function k(a,n){var t;return((t=n.tags)===null||t===void 0?void 0:t[a])||n[a]}async function P(a,n){const t=h.getSession(n),{view:i}=n;try{if(i)await i.navToLocString(a);else throw new Error("No view associated with this view anymore")}catch(o){console.error(o),t.notify(`${o}`)}}function A({locString:a,model:n}){return e.jsx(S,{onClick:t=>{t.preventDefault(),P(a,n)},href:"#",children:a})}const O={AM:"The smallest template-independent mapping quality in the template",AS:"Alignment score generated by aligner",BC:"Barcode sequence identifying the sample",BQ:"Offset to base alignment quality (BAQ)",BZ:"Phred quality of the unique molecular barcode bases in the {OX} tag",CB:"Cell identifier",CC:"Reference name of the next hit",CM:"Edit distance between the color sequence and the color reference (see also {NM})",CO:"Free-text comments",CP:"Leftmost coordinate of the next hit",CQ:"Color read base qualities",CR:"Cellular barcode sequence bases (uncorrected)",CS:"Color read sequence",CT:"Complete read annotation tag, used for consensus annotation dummy features",CY:"Phred quality of the cellular barcode sequence in the {CR} tag",E2:"The 2nd most likely base calls",FI:"The index of segment in the template",FS:"Segment suffix",FZ:"Flow stopToken intensities",GC:"Reserved for backwards compatibility reasons",GQ:"Reserved for backwards compatibility reasons",GS:"Reserved for backwards compatibility reasons",H0:"Number of perfect hits",H1:"Number of 1-difference hits (see also {NM})",H2:"Number of 2-difference hits",HI:"Query hit index",IH:"Query hit total count",LB:"Library",MC:"CIGAR string for mate/next segment",MD:"String encoding mismatched and deleted reference bases",MF:"Reserved for backwards compatibility reasons",MI:"Molecular identifier; a string that uniquely identifies the molecule from which the record was derived",ML:"Base modification probabilities",MM:"Base modifications / methylation ",MQ:"Mapping quality of the mate/next segment",NH:"Number of reported alignments that contain the query in the current record",NM:"Edit distance to the reference",OA:"Original alignment",OC:"Original CIGAR (deprecated; use {OA} instead)",OP:"Original mapping position (deprecated; use {OA} instead)",OQ:"Original base quality",OX:"Original unique molecular barcode bases",PG:"Program",PQ:"Phred likelihood of the template",PT:"Read annotations for parts of the padded read sequence",PU:"Platform unit",Q2:"Phred quality of the mate/next segment sequence in the {R2} tag",QT:"Phred quality of the sample barcode sequence in the {BC} tag",QX:"Quality score of the unique molecular identifier in the {RX} tag",R2:"Sequence of the mate/next segment in the template",RG:"Read group",RT:"Reserved for backwards compatibility reasons",RX:"Sequence bases of the (possibly corrected) unique molecular identifier",S2:"Reserved for backwards compatibility reasons",SA:"Other canonical alignments in a chimeric alignment",SM:"Template-independent mapping quality",SQ:"Reserved for backwards compatibility reasons",TC:"The number of segments in the template",TS:"Transcript strand",U2:"Phred probability of the 2nd call being wrong conditional on the best being wrong",UQ:"Phred likelihood of the segment, conditional on the mapping being correct"},T=l.lazy(()=>import("./SupplementaryAlignments-sqFqV06z.js")),M=l.lazy(()=>import("./LinkedPairedAlignments-fcGz4BkJ.js")),Q=c(function(a){const{model:n,feat:t}=a,i=t.flags,o=k("SA",t);return e.jsxs(g,{"data-testid":"alignment-side-drawer",children:[e.jsx(y,{...a,descriptions:{tags:O},feature:t,formatter:(r,s)=>s==="next_segment_position"?e.jsx(A,{model:n,locString:r}):e.jsx(R,{value:r})}),o!==void 0?e.jsx(T,{model:n,tag:o,feature:t}):null,i!=null?e.jsxs(e.Fragment,{children:[i&1?e.jsx(M,{model:n,feature:t}):null,e.jsx(F,{flags:i,...a})]}):null]})}),B=c(function(a){const{model:n}=a,{featureData:t}=n,i=structuredClone(t);return i?e.jsx(Q,{feat:i,...a}):e.jsx("div",{children:"No feature loaded, may not be available after page refresh because it was too large for localStorage"})});var _=Object.freeze({__proto__:null,default:B});export{_ as A,P as n};
//# sourceMappingURL=AlignmentsFeatureDetail-CiSu7rNd.js.map
