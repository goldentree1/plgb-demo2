{"version":3,"file":"ToggleConnectionsDialog-DNMTveXr.js","sources":["../../node_modules/@jbrowse/plugin-data-management/esm/HierarchicalTrackSelectorWidget/components/dialogs/ToggleConnectionsDialog.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { readConfObject } from '@jbrowse/core/configuration';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { Button, Checkbox, DialogActions, DialogContent, FormControlLabel, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nfunction ellipses(slug) {\n    return slug.length > 20 ? `${slug.slice(0, 20)}...` : slug;\n}\nconst useStyles = makeStyles()(theme => ({\n    connectionContainer: {\n        width: 500,\n        margin: theme.spacing(4),\n    },\n}));\nconst ConnectionRow = observer(function ConnectionRow({ conf, session, breakConnection, }) {\n    const { connectionInstances: instances = [] } = session;\n    const name = readConfObject(conf, 'name');\n    const assemblyNames = readConfObject(conf, 'assemblyNames');\n    const found = instances.find(conn => name === conn.name);\n    return (_jsx(FormControlLabel, { control: _jsx(Checkbox, { checked: !!found, onChange: () => {\n                var _a;\n                if (found) {\n                    breakConnection(conf);\n                }\n                else {\n                    (_a = session.makeConnection) === null || _a === void 0 ? void 0 : _a.call(session, conf);\n                }\n            }, color: \"primary\" }), label: [\n            name,\n            assemblyNames.length ? `(${ellipses(assemblyNames.join(','))})` : '',\n        ]\n            .filter(f => !!f)\n            .join(' ') }, conf.connectionId));\n});\nconst ConnectionList = observer(function ConnectionsList({ session, breakConnection, }) {\n    const { classes } = useStyles();\n    return (_jsx(\"div\", { className: classes.connectionContainer, children: !session.connections.length ? (_jsx(Typography, { children: \"No connections found\" })) : (session.connections.map((conf, idx) => (_jsx(\"div\", { children: _jsx(ConnectionRow, { conf: conf, session: session, breakConnection: breakConnection }) }, `${conf.name}_${idx}`)))) }));\n});\nconst ToggleConnectionDialog = observer(function ({ session, handleClose, breakConnection, }) {\n    return (_jsxs(Dialog, { open: true, onClose: handleClose, maxWidth: \"lg\", title: \"Turn on/off connections\", children: [_jsxs(DialogContent, { children: [_jsx(Typography, { children: \"Use the checkbox to turn on/off connections\" }), _jsx(ConnectionList, { session: session, breakConnection: breakConnection })] }), _jsx(DialogActions, { children: _jsx(Button, { onClick: () => {\n                        handleClose();\n                    }, variant: \"contained\", color: \"primary\", children: \"Close\" }) })] }));\n});\nexport default ToggleConnectionDialog;\n"],"names":["ellipses","slug","useStyles","makeStyles","theme","ConnectionRow","observer","conf","session","breakConnection","instances","name","readConfObject","assemblyNames","found","conn","_jsx","FormControlLabel","Checkbox","_a","f","ConnectionList","classes","idx","Typography","ToggleConnectionDialog","handleClose","_jsxs","Dialog","DialogContent","DialogActions","Button"],"mappings":"8LAMA,SAASA,EAASC,EAAM,CACpB,OAAOA,EAAK,OAAS,GAAK,GAAGA,EAAK,MAAM,EAAG,EAAE,CAAC,MAAQA,CAC1D,CACA,MAAMC,EAAYC,EAAU,EAAGC,IAAU,CACrC,oBAAqB,CACjB,MAAO,IACP,OAAQA,EAAM,QAAQ,CAAC,CAC/B,CACA,EAAE,EACIC,EAAgBC,EAAS,SAAuB,CAAE,KAAAC,EAAM,QAAAC,EAAS,gBAAAC,GAAoB,CACvF,KAAM,CAAE,oBAAqBC,EAAY,CAAA,CAAE,EAAKF,EAC1CG,EAAOC,EAAAA,eAAeL,EAAM,MAAM,EAClCM,EAAgBD,EAAAA,eAAeL,EAAM,eAAe,EACpDO,EAAQJ,EAAU,KAAKK,GAAQJ,IAASI,EAAK,IAAI,EACvD,OAAQC,MAAKC,EAAkB,CAAE,QAASD,EAAAA,IAAKE,EAAU,CAAE,QAAS,CAAC,CAACJ,EAAO,SAAU,IAAM,CACjF,IAAIK,EACAL,EACAL,EAAgBF,CAAI,GAGnBY,EAAKX,EAAQ,kBAAoB,MAAQW,IAAO,QAAkBA,EAAG,KAAKX,EAASD,CAAI,CAEhG,EAAG,MAAO,SAAS,CAAE,EAAG,MAAO,CAC/BI,EACAE,EAAc,OAAS,IAAIb,EAASa,EAAc,KAAK,GAAG,CAAC,CAAC,IAAM,EAC9E,EACa,OAAOO,GAAK,CAAC,CAACA,CAAC,EACf,KAAK,GAAG,GAAKb,EAAK,YAAY,CAC3C,CAAC,EACKc,EAAiBf,EAAS,SAAyB,CAAE,QAAAE,EAAS,gBAAAC,CAAe,EAAK,CACpF,KAAM,CAAE,QAAAa,CAAO,EAAKpB,EAAS,EAC7B,OAAQc,EAAAA,IAAK,MAAO,CAAE,UAAWM,EAAQ,oBAAqB,SAAWd,EAAQ,YAAY,OAAqEA,EAAQ,YAAY,IAAI,CAACD,EAAMgB,IAASP,EAAAA,IAAK,MAAO,CAAE,SAAUA,EAAAA,IAAKX,EAAe,CAAE,KAAME,EAAM,QAASC,EAAS,gBAAiBC,CAAe,CAAE,CAAC,EAAI,GAAGF,EAAK,IAAI,IAAIgB,CAAG,EAAE,CAAE,EAA7OP,EAAAA,IAAKQ,EAAY,CAAE,SAAU,sBAAsB,CAAE,EAA4L,CAC5V,CAAC,EACKC,EAAyBnB,EAAS,SAAU,CAAE,QAAAE,EAAS,YAAAkB,EAAa,gBAAAjB,CAAe,EAAK,CAC1F,OAAQkB,EAAAA,KAAMC,EAAAA,OAAQ,CAAE,KAAM,GAAM,QAASF,EAAa,SAAU,KAAM,MAAO,0BAA2B,SAAU,CAACC,OAAME,EAAe,CAAE,SAAU,CAACb,EAAAA,IAAKQ,EAAY,CAAE,SAAU,6CAA6C,CAAE,EAAGR,EAAAA,IAAKK,EAAgB,CAAE,QAASb,EAAS,gBAAiBC,CAAe,CAAE,CAAC,CAAC,CAAE,EAAGO,EAAAA,IAAKc,EAAe,CAAE,SAAUd,EAAAA,IAAKe,EAAQ,CAAE,QAAS,IAAM,CACpWL,EAAW,CACf,EAAG,QAAS,YAAa,MAAO,UAAW,SAAU,OAAO,CAAE,EAAG,CAAC,EAAG,CACzF,CAAC","x_google_ignoreList":[0]}