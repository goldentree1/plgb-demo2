{"version":3,"file":"SetColorDialog-BTYpSAxt.js","sources":["../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/SourcesGrid.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ui/SetColorDialogBulkEditPanel.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ui/SetColorDialogHelpfulTips.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ui/SetColorDialogRowPalettizer.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/ui/SetColorDialog.js","../../node_modules/@jbrowse/plugin-wiggle/esm/MultiLinearWiggleDisplay/components/SetColorDialog.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { SanitizedHTML } from '@jbrowse/core/ui';\nimport ColorPicker, { ColorPopover } from '@jbrowse/core/ui/ColorPicker';\nimport { getStr, measureGridWidth } from '@jbrowse/core/util';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport KeyboardDoubleArrowDownIcon from '@mui/icons-material/KeyboardDoubleArrowDown';\nimport KeyboardDoubleArrowUpIcon from '@mui/icons-material/KeyboardDoubleArrowUp';\nimport { Button } from '@mui/material';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { makeStyles } from 'tss-react/mui';\nimport { moveDown, moveUp } from './util';\nconst useStyles = makeStyles()({\n    cell: {\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n});\nfunction SourcesGrid({ rows, onChange, showTips, }) {\n    const { classes } = useStyles();\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [selected, setSelected] = useState([]);\n    const { name: _name, color: _color, source: _source, baseUri: _baseUri, ...rest } = rows.length > 0 ? rows[0] : {};\n    const [widgetColor, setWidgetColor] = useState('blue');\n    const [currSort, setCurrSort] = useState({\n        idx: 0,\n        field: null,\n    });\n    return (_jsxs(\"div\", { children: [_jsx(Button, { disabled: !selected.length, onClick: event => {\n                    setAnchorEl(event.currentTarget);\n                }, children: \"Change color of selected items\" }), _jsxs(Button, { disabled: !selected.length, onClick: () => {\n                    onChange(moveUp([...rows], selected));\n                }, children: [_jsx(KeyboardArrowUpIcon, {}), showTips ? 'Move selected items up' : null] }), _jsxs(Button, { disabled: !selected.length, onClick: () => {\n                    onChange(moveDown([...rows], selected));\n                }, children: [_jsx(KeyboardArrowDownIcon, {}), showTips ? 'Move selected items down' : null] }), _jsxs(Button, { disabled: !selected.length, onClick: () => {\n                    onChange(moveUp([...rows], selected, rows.length));\n                }, children: [_jsx(KeyboardDoubleArrowUpIcon, {}), showTips ? 'Move selected items to top' : null] }), _jsxs(Button, { disabled: !selected.length, onClick: () => {\n                    onChange(moveDown([...rows], selected, rows.length));\n                }, children: [_jsx(KeyboardDoubleArrowDownIcon, {}), showTips ? 'Move selected items to bottom' : null] }), _jsx(ColorPopover, { anchorEl: anchorEl, color: widgetColor, onChange: c => {\n                    setWidgetColor(c);\n                    for (const id of selected) {\n                        const elt = rows.find(f => f.name === id);\n                        if (elt) {\n                            elt.color = c;\n                        }\n                    }\n                    onChange([...rows]);\n                }, onClose: () => {\n                    setAnchorEl(null);\n                } }), _jsx(\"div\", { style: { height: 400, width: '100%' }, children: _jsx(DataGrid, { disableRowSelectionOnClick: true, getRowId: row => row.name, checkboxSelection: true, onRowSelectionModelChange: arg => {\n                        setSelected([...arg.ids]);\n                    }, rows: rows, rowHeight: 25, columnHeaderHeight: 33, columns: [\n                        {\n                            field: 'color',\n                            headerName: 'Color',\n                            renderCell: ({ value, id }) => (_jsx(ColorPicker, { color: value || 'blue', onChange: c => {\n                                    const elt = rows.find(f => f.name === id);\n                                    if (elt) {\n                                        elt.color = c;\n                                    }\n                                    onChange([...rows]);\n                                } })),\n                        },\n                        {\n                            field: 'name',\n                            headerName: 'Name',\n                            width: measureGridWidth(rows.map(r => r.name)),\n                        },\n                        ...Object.keys(rest).map(val => ({\n                            field: val,\n                            renderCell: ({ value }) => (_jsx(\"div\", { className: classes.cell, children: _jsx(SanitizedHTML, { html: getStr(value) }) })),\n                            width: measureGridWidth(rows.map(r => `${r[val]}`)),\n                        })),\n                    ], sortModel: [], onSortModelChange: args => {\n                        const sort = args[0];\n                        const idx = (currSort.idx + 1) % 2;\n                        const field = sort.field || currSort.field;\n                        setCurrSort({ idx, field });\n                        onChange(field\n                            ? [...rows].sort((a, b) => {\n                                const aa = getStr(a[field]);\n                                const bb = getStr(b[field]);\n                                return idx === 1\n                                    ? aa.localeCompare(bb)\n                                    : bb.localeCompare(aa);\n                            })\n                            : rows);\n                    } }) })] }));\n}\nexport default SourcesGrid;\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { ErrorMessage } from '@jbrowse/core/ui';\nimport { Button, DialogActions, DialogContent, TextField, Typography, } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    textAreaFont: {\n        fontFamily: 'Courier New',\n    },\n});\nexport default function SetColorDialogBulkEditPanel({ onClose, currLayout, }) {\n    const { classes } = useStyles();\n    const [val, setVal] = useState('');\n    const [error, setError] = useState();\n    return (_jsxs(_Fragment, { children: [_jsxs(DialogContent, { children: [_jsx(Typography, { children: \"Paste CSV or TSV. If a header column is present. First line is a header. If a column called \\\"name\\\" is present, it uses that to connect to IDs in the table, otherwise it uses the first column no.\" }), error ? _jsx(ErrorMessage, { error: error }) : null, _jsx(TextField, { variant: \"outlined\", multiline: true, minRows: 5, placeholder: 'name,population\\nHG00098,GBR\\nHG00101,GBR\\nHG00459,CHS\\n...', maxRows: 10, fullWidth: true, value: val, onChange: event => {\n                            setVal(event.target.value);\n                        }, slotProps: {\n                            input: {\n                                classes: {\n                                    input: classes.textAreaFont,\n                                },\n                            },\n                        } })] }), _jsxs(DialogActions, { children: [_jsx(Button, { variant: \"contained\", color: \"secondary\", onClick: () => {\n                            const lines = val\n                                .split('\\n')\n                                .map(f => f.trim())\n                                .filter(f => !!f);\n                            const fields = lines[0].split(/[,\\t]/gm);\n                            if (fields.includes('name')) {\n                                setError('');\n                                const oldLayout = Object.fromEntries(currLayout.map(record => [record.name, record]));\n                                const newData = Object.fromEntries(lines.slice(1).map(line => {\n                                    const cols = line.split(/[,\\t]/gm);\n                                    const newRecord = Object.fromEntries(cols.map((col, idx) => [fields[idx], col]));\n                                    return [\n                                        newRecord.name,\n                                        {\n                                            ...newRecord,\n                                            ...oldLayout[newRecord.name],\n                                        },\n                                    ];\n                                }));\n                                onClose(currLayout.map(record => ({\n                                    ...record,\n                                    ...newData[record.name],\n                                })));\n                            }\n                            else {\n                                setError(new Error('No \"name\" column found on line 1'));\n                            }\n                        }, children: \"Update rows\" }), _jsx(Button, { variant: \"contained\", color: \"primary\", onClick: () => {\n                            const lines = val\n                                .split('\\n')\n                                .map(f => f.trim())\n                                .filter(f => !!f);\n                            const fields = lines[0].split(/[,\\t]/gm);\n                            if (fields.includes('name')) {\n                                setError('');\n                                const oldLayout = Object.fromEntries(currLayout.map(record => [record.name, record]));\n                                const newData = Object.fromEntries(lines.slice(1).map(line => {\n                                    const cols = line.split(/[,\\t]/gm);\n                                    const newRecord = Object.fromEntries(cols.map((col, idx) => [fields[idx], col]));\n                                    return [\n                                        newRecord.name,\n                                        {\n                                            ...newRecord,\n                                            ...oldLayout[newRecord.name],\n                                        },\n                                    ];\n                                }));\n                                onClose(currLayout.map(record => ({\n                                    ...newData[record.name],\n                                })));\n                            }\n                            else {\n                                setError(new Error('No \"name\" column found on line 1'));\n                            }\n                        }, children: \"Replace rows\" }), _jsx(Button, { variant: \"contained\", color: \"inherit\", onClick: () => {\n                            onClose();\n                        }, children: \"Cancel\" })] })] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function SetColorDialogHelpfulTips() {\n    return (_jsxs(_Fragment, { children: [\"Helpful tips\", _jsxs(\"ul\", { children: [_jsx(\"li\", { children: \"You can select rows in the table with the checkboxes\" }), _jsx(\"li\", { children: \"Multi-select is enabled with shift-click and control-click\" }), _jsx(\"li\", { children: \"The \\\"Move selected items up/down\\\" can re-arrange subtracks\" }), _jsx(\"li\", { children: \"Sorting the data grid itself can also re-arrange subtracks\" }), _jsx(\"li\", { children: \"Changes are applied when you hit Submit\" }), _jsx(\"li\", { children: \"You can click and drag the dialog box to move it on the screen\" }), _jsx(\"li\", { children: \"Columns in the table can be hidden using a vertical '...' menu on the right side of each column\" })] })] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { set1 } from '@jbrowse/core/ui/colors';\nimport { randomColor } from '@jbrowse/core/util/color';\nimport { Button } from '@mui/material';\nexport default function SetColorDialogRowPalettizer({ setCurrLayout, currLayout, }) {\n    if (!currLayout.length || !currLayout[0]) {\n        return null;\n    }\n    const fields = Object.keys(currLayout[0]).filter(f => f !== 'name' &&\n        f !== 'color' &&\n        f !== 'source' &&\n        f !== 'label' &&\n        f !== 'id' &&\n        f !== 'HP');\n    return (_jsxs(\"div\", { children: [\"Create color palette based on...\", fields.map(r => (_jsx(Button, { variant: \"contained\", color: \"inherit\", onClick: () => {\n                    const map = new Map();\n                    for (const row of currLayout) {\n                        const val = map.get(row[r]);\n                        if (!val) {\n                            map.set(row[r], 1);\n                        }\n                        else {\n                            map.set(row[r], val + 1);\n                        }\n                    }\n                    const ret = Object.fromEntries([...map.entries()]\n                        .sort((a, b) => a[1] - b[1])\n                        .map((r, idx) => [r[0], set1[idx] || randomColor(r[0])]));\n                    setCurrLayout(currLayout.map(row => ({\n                        ...row,\n                        color: ret[row[r]],\n                    })));\n                }, children: r }, r))), _jsx(Button, { onClick: () => {\n                    setCurrLayout(currLayout.map(row => ({\n                        ...row,\n                        color: undefined,\n                    })));\n                }, children: \"Clear colors\" })] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport DraggableDialog from '@jbrowse/core/ui/DraggableDialog';\nimport { useLocalStorage } from '@jbrowse/core/util';\nimport { Button, DialogActions, DialogContent } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nimport SetColorDialogBulkEditPanel from './SetColorDialogBulkEditPanel';\nimport SetColorDialogHelpfulTips from './SetColorDialogHelpfulTips';\nimport SetColorDialogRowPalettizer from './SetColorDialogRowPalettizer';\nconst useStyles = makeStyles()({\n    content: {\n        minWidth: 800,\n    },\n    fr: {\n        float: 'right',\n        display: 'flex',\n        gap: 8,\n    },\n});\nexport default function SetColorDialog({ model, handleClose, title = 'Color/arrangement editor', enableBulkEdit = false, enableRowPalettizer = false, showTipsStorageKey = 'setColorDialog-showTips', SourcesGridComponent, }) {\n    const { classes } = useStyles();\n    const { sources } = model;\n    const [showBulkEditor, setShowBulkEditor] = useState(false);\n    const [currLayout, setCurrLayout] = useState(structuredClone(sources || []));\n    const [showTips, setShowTips] = useLocalStorage(showTipsStorageKey, false);\n    return (_jsx(DraggableDialog, { open: true, onClose: handleClose, maxWidth: \"xl\", title: title, children: showBulkEditor && enableBulkEdit ? (_jsx(SetColorDialogBulkEditPanel, { currLayout: currLayout, onClose: arg => {\n                if (arg) {\n                    setCurrLayout(arg);\n                }\n                setShowBulkEditor(false);\n            } })) : (_jsxs(_Fragment, { children: [_jsxs(DialogContent, { className: classes.content, children: [_jsxs(\"div\", { className: classes.fr, children: [_jsx(Button, { variant: \"contained\", onClick: () => {\n                                        setShowTips(!showTips);\n                                    }, children: showTips ? 'Hide tips' : 'Show tips' }), enableBulkEdit ? (_jsx(Button, { color: \"secondary\", variant: \"contained\", onClick: () => {\n                                        setShowBulkEditor(!showBulkEditor);\n                                    }, children: \"Show Bulk row editor\" })) : null] }), showTips ? _jsx(SetColorDialogHelpfulTips, {}) : null, enableRowPalettizer ? (_jsxs(_Fragment, { children: [_jsx(\"br\", {}), _jsx(SetColorDialogRowPalettizer, { currLayout: currLayout, setCurrLayout: setCurrLayout })] })) : null, _jsx(SourcesGridComponent, { rows: currLayout, onChange: setCurrLayout, showTips: showTips })] }), _jsxs(DialogActions, { children: [_jsx(Button, { variant: \"contained\", type: \"submit\", color: \"inherit\", onClick: () => {\n                                model.clearLayout();\n                                setCurrLayout(model.sources || []);\n                            }, children: \"Clear custom settings\" }), _jsx(Button, { variant: \"contained\", color: \"secondary\", onClick: () => {\n                                handleClose();\n                                setCurrLayout([...(model.sources || [])]);\n                            }, children: \"Cancel\" }), _jsx(Button, { variant: \"contained\", color: \"primary\", type: \"submit\", onClick: () => {\n                                model.setLayout(currLayout);\n                                handleClose();\n                            }, children: \"Submit\" })] })] })) }));\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport SourcesGrid from './SourcesGrid';\nimport SharedSetColorDialog from './ui/SetColorDialog';\nexport default function SetColorDialog({ model, handleClose, }) {\n    return (_jsx(SharedSetColorDialog, { model: model, handleClose: handleClose, title: \"Multi-wiggle color/arrangement editor\", enableBulkEdit: true, enableRowPalettizer: true, showTipsStorageKey: \"multiwiggle-showTips\", SourcesGridComponent: SourcesGrid }));\n}\n"],"names":["useStyles","makeStyles","SourcesGrid","rows","onChange","showTips","classes","anchorEl","setAnchorEl","useState","selected","setSelected","_name","_color","_source","_baseUri","rest","widgetColor","setWidgetColor","currSort","setCurrSort","_jsxs","_jsx","Button","event","moveUp","KeyboardArrowUpIcon","moveDown","KeyboardArrowDownIcon","KeyboardDoubleArrowUpIcon","KeyboardDoubleArrowDownIcon","ColorPopover","c","id","elt","f","DataGrid","row","arg","value","ColorPicker","measureGridWidth","val","SanitizedHTML","getStr","r","args","sort","idx","field","a","b","aa","bb","SetColorDialogBulkEditPanel","onClose","currLayout","setVal","error","setError","_Fragment","DialogContent","Typography","ErrorMessage","TextField","DialogActions","lines","fields","oldLayout","record","newData","line","cols","newRecord","col","SetColorDialogHelpfulTips","SetColorDialogRowPalettizer","setCurrLayout","map","ret","set1","randomColor","SetColorDialog","model","handleClose","title","enableBulkEdit","enableRowPalettizer","showTipsStorageKey","SourcesGridComponent","sources","showBulkEditor","setShowBulkEditor","setShowTips","useLocalStorage","DraggableDialog","SharedSetColorDialog"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}