import{r as b,j as i,v as M,aN as R,w as T,b5 as $,l as w,q as P,x as L,o as E,u as G,b6 as A,b7 as F,c as W,b8 as C,an as O,O as I,b as N,b9 as D,ba as z,m as U}from"./rpcWorker-X0469dqW.js";import{s as V}from"./getThemeProps-RNW6Z-3w.js";import{u as q,G as _}from"./Grid-Cf8elzML.js";const B=$(),K=V("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`maxWidth${R(String(o.maxWidth))}`],o.fixed&&n.fixed,o.disableGutters&&n.disableGutters]}}),H=e=>q({props:e,name:"MuiContainer",defaultTheme:B}),J=(e,n)=>{const o=l=>w(n,l),{classes:c,fixed:u,disableGutters:m,maxWidth:s}=e,t={root:["root",s&&`maxWidth${R(String(s))}`,u&&"fixed",m&&"disableGutters"]};return T(t,o,c)};function Q(e={}){const{createStyledComponent:n=K,useThemeProps:o=H,componentName:c="MuiContainer"}=e,u=n(({theme:s,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:t})=>t.fixed&&Object.keys(s.breakpoints.values).reduce((l,r)=>{const d=r,a=s.breakpoints.values[d];return a!==0&&(l[s.breakpoints.up(d)]={maxWidth:`${a}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:t})=>({...t.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...t.maxWidth&&t.maxWidth!=="xs"&&{[s.breakpoints.up(t.maxWidth)]:{maxWidth:`${s.breakpoints.values[t.maxWidth]}${s.breakpoints.unit}`}}}));return b.forwardRef(function(t,l){const r=o(t),{className:d,component:a="div",disableGutters:g=!1,fixed:f=!1,maxWidth:p="lg",classes:y,...x}=r,h={...r,component:a,disableGutters:g,fixed:f,maxWidth:p},v=J(h,c);return i.jsx(u,{as:a,ownerState:h,className:M(v.root,d),ref:l,...x})})}const X=Q({createStyledComponent:L("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`maxWidth${R(String(o.maxWidth))}`],o.fixed&&n.fixed,o.disableGutters&&n.disableGutters]}}),useThemeProps:e=>P({props:e,name:"MuiContainer"})}),Y=E(function({model:e,selectedAsm:n,value:o,setValue:c,setOption:u}){const m=G.getSession(e),{assemblyManager:s,textSearchManager:t}=m,{rankSearchResults:l}=e,r=e.searchScope(n),d=s.get(n);return i.jsx(A,{fetchResults:a=>F({queryString:a,assembly:d,textSearchManager:t,rankSearchResults:l,searchScope:r}),model:e,assemblyName:n,value:o,minWidth:270,onChange:a=>{c(a)},onSelect:a=>{u(a)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})}),Z=U()(e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}})),ne=E(function({model:e}){var n;const{classes:o}=Z(),c=G.getSession(e),{assemblyNames:u,assemblyManager:m}=c,{error:s}=e,[t,l]=b.useState(u[0]),[r,d]=b.useState(),a=m.get(t),g=u.length?a==null?void 0:a.error:"No configured assemblies",f=g||s,[p,y]=b.useState(""),x=a==null?void 0:a.regions,h=!!x,v=x&&((n=x[0])===null||n===void 0?void 0:n.refName)||"";return b.useEffect(()=>{y(v)},[v,t]),i.jsxs("div",{className:o.container,children:[f?i.jsx(W.ErrorMessage,{error:f}):null,i.jsx(X,{className:o.importFormContainer,children:i.jsx("form",{onSubmit:async S=>{var j;if(S.preventDefault(),e.setError(void 0),p)try{(r==null?void 0:r.getDisplayString())===p&&r.hasLocation()?await D({option:r,model:e,assemblyName:t}):!((j=r==null?void 0:r.results)===null||j===void 0)&&j.length?e.setSearchResults(r.results,r.getLabel(),t):a&&await z({input:p,assembly:a,model:e})}catch(k){console.error(k),c.notify(`${k}`,"warning")}},children:i.jsxs(_,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[i.jsx(C,{children:i.jsx(W.AssemblySelector,{onChange:S=>{l(S)},localStorageKey:"lgv",session:c,selected:t})}),t?g?i.jsx(O,{style:{color:"red"}}):h?i.jsx(C,{children:i.jsx(Y,{value:p,setValue:y,selectedAsm:t,setOption:d,model:e})}):i.jsx(I,{size:20,disableShrink:!0}):null,i.jsx(C,{children:i.jsx(N,{type:"submit",disabled:!p,className:o.button,variant:"contained",color:"primary",children:"Open"})}),i.jsx(C,{children:i.jsx(N,{disabled:!p,className:o.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(t)},variant:"contained",color:"secondary",children:"Show all regions in assembly"})})]})})})]})});export{ne as default};
//# sourceMappingURL=ImportForm-CoF149Fu.js.map
