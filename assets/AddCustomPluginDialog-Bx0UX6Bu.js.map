{"version":3,"file":"AddCustomPluginDialog-Bx0UX6Bu.js","sources":["../../node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/AddCustomPluginDialog.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { getSession } from '@jbrowse/core/util';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { Button, Collapse, DialogActions, DialogContent, DialogContentText, TextField, } from '@mui/material';\nimport IconButton from '@mui/material/IconButton';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()(theme => ({\n    dialogContent: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        marginLeft: 'auto',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n}));\nconst AddCustomPluginDialog = observer(function ({ onClose, model, }) {\n    const { classes, cx } = useStyles();\n    const [umdPluginName, setUMDPluginName] = useState('');\n    const [umdPluginUrl, setUMDPluginUrl] = useState('');\n    const [esmPluginUrl, setESMPluginUrl] = useState('');\n    const [cjsPluginUrl, setCJSPluginUrl] = useState('');\n    const [advancedOptionsOpen, setAdvancedOptionsOpen] = useState(false);\n    const { jbrowse } = getSession(model);\n    const ready = Boolean((umdPluginName && umdPluginUrl) || esmPluginUrl || cjsPluginUrl);\n    function handleSubmit() {\n        if (umdPluginName && umdPluginUrl) {\n            jbrowse.addPlugin({ name: umdPluginName, umdUrl: umdPluginUrl });\n        }\n        else if (esmPluginUrl) {\n            jbrowse.addPlugin({ esmUrl: esmPluginUrl });\n        }\n        else if (cjsPluginUrl) {\n            jbrowse.addPlugin({ cjsUrl: cjsPluginUrl });\n        }\n    }\n    return (_jsx(Dialog, { open: true, onClose: onClose, title: \"Add custom plugin\", children: _jsxs(\"form\", { onSubmit: handleSubmit, children: [_jsxs(DialogContent, { className: classes.dialogContent, children: [_jsx(DialogContentText, { children: \"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build.\" }), _jsx(TextField, { label: \"Plugin name\", variant: \"outlined\", value: umdPluginName, onChange: event => {\n                                setUMDPluginName(event.target.value);\n                            } }), _jsx(TextField, { label: \"Plugin URL\", variant: \"outlined\", value: umdPluginUrl, onChange: event => {\n                                setUMDPluginUrl(event.target.value);\n                            } }), _jsxs(DialogContentText, { onClick: () => {\n                                setAdvancedOptionsOpen(!advancedOptionsOpen);\n                            }, children: [_jsx(IconButton, { className: cx(classes.expand, {\n                                        [classes.expandOpen]: advancedOptionsOpen,\n                                    }), \"aria-expanded\": advancedOptionsOpen, \"aria-label\": \"show more\", children: _jsx(ExpandMoreIcon, {}) }), \"Advanced options\"] }), _jsx(Collapse, { in: advancedOptionsOpen, children: _jsxs(\"div\", { className: classes.dialogContent, children: [_jsx(DialogContentText, { children: \"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below.\" }), _jsx(TextField, { label: \"ESM build URL\", variant: \"outlined\", value: esmPluginUrl, onChange: event => {\n                                            setESMPluginUrl(event.target.value);\n                                        } }), _jsx(TextField, { label: \"CJS build URL\", variant: \"outlined\", value: cjsPluginUrl, onChange: event => {\n                                            setCJSPluginUrl(event.target.value);\n                                        } })] }) })] }), _jsxs(DialogActions, { children: [_jsx(Button, { variant: \"contained\", onClick: onClose, children: \"Cancel\" }), _jsx(Button, { variant: \"contained\", color: \"primary\", onClick: handleSubmit, disabled: !ready, children: \"Submit\" })] })] }) }));\n});\nexport default AddCustomPluginDialog;\n"],"names":["useStyles","makeStyles","theme","AddCustomPluginDialog","observer","onClose","model","classes","cx","umdPluginName","setUMDPluginName","useState","umdPluginUrl","setUMDPluginUrl","esmPluginUrl","setESMPluginUrl","cjsPluginUrl","setCJSPluginUrl","advancedOptionsOpen","setAdvancedOptionsOpen","jbrowse","getSession","ready","handleSubmit","_jsx","Dialog","_jsxs","DialogContent","DialogContentText","TextField","event","IconButton","ExpandMoreIcon","Collapse","DialogActions","Button"],"mappings":"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","x_google_ignoreList":[0]}