import{u as p,a as n,j as e,c as x,D as T,T as j,e as E,B as g,C as L,d as z}from"./index-DUxFddIG.js";import{M as F}from"./MenuItem-BgPyIMvW.js";import{F as k}from"./FormControlLabel-ClCs1Dm_.js";import{C as D}from"./Checkbox-B2cvj8Wt.js";import"./dividerClasses-Dak6ZOU3.js";function w(){return e.jsxs("div",{children:[e.jsx(L,{size:20,style:{marginRight:20}}),e.jsx(j,{display:"inline",children:"Creating SVG"})]})}function h({children:t,...r}){return e.jsx("div",{children:e.jsx(z,{...r,children:t})})}function f(t,r){return p.useLocalStorage(`svg-${t}`,r)}function B({model:t,handleClose:r}){const a=p.getSession(t),o=typeof OffscreenCanvas<"u",[i,v]=n.useState(o),[y,l]=n.useState(!1),[c,u]=n.useState(),[m,C]=f("file","jbrowse.svg"),[d,b]=f("theme",a.themeName||"default");return e.jsxs(x.Dialog,{open:!0,onClose:r,title:"Export SVG",children:[e.jsxs(T,{children:[c?e.jsx(x.ErrorMessage,{error:c}):y?e.jsx(w,{}):null,e.jsx(h,{helperText:"filename",value:m,onChange:s=>{C(s.target.value)}}),a.allThemes?e.jsx(h,{select:!0,label:"Theme",value:d,onChange:s=>{b(s.target.value)},children:Object.entries(a.allThemes()).map(([s,S])=>e.jsx(F,{value:s,children:S.name||"(Unknown name)"},s))}):null,o?e.jsx(k,{control:e.jsx(D,{checked:i,onChange:()=>{v(s=>!s)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):e.jsx(j,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),e.jsxs(E,{children:[e.jsx(g,{variant:"contained",color:"secondary",onClick:()=>{r()},children:"Cancel"}),e.jsx(g,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{l(!0),u(void 0);try{await t.exportSvg({rasterizeLayers:i,filename:m,themeName:d}),r()}catch(s){console.error(s),u(s)}finally{l(!1)}},children:"Submit"})]})]})}export{B as default};
//# sourceMappingURL=ExportSvgDialog-yvVGAjOl.js.map
