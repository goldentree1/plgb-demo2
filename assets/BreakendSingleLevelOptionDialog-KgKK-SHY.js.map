{"version":3,"file":"BreakendSingleLevelOptionDialog-KgKK-SHY.js","sources":["../node_modules/@jbrowse/sv-core/esm/Checkbox2.js","../node_modules/@jbrowse/sv-core/esm/util.js","../node_modules/@jbrowse/sv-core/esm/navToMultiLevelBreak.js","../node_modules/@jbrowse/sv-core/esm/BreakendMultiLevelOptionDialog.js","../node_modules/@jbrowse/sv-core/esm/navToSingleLevelBreak.js","../node_modules/@jbrowse/sv-core/esm/BreakendSingleLevelOptionDialog.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Checkbox, FormControlLabel } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    block: {\n        display: 'block',\n    },\n});\nexport default function Checkbox2({ checked, disabled, label, onChange, }) {\n    const { classes } = useStyles();\n    return (_jsx(FormControlLabel, { disabled: disabled, className: classes.block, control: _jsx(Checkbox, { checked: checked, onChange: onChange }), label: label }));\n}\n","import { parseBreakend } from '@gmod/vcf';\nexport function getBreakendCoveringRegions({ feature, assembly, }) {\n    var _a;\n    const alt = (_a = feature.get('ALT')) === null || _a === void 0 ? void 0 : _a[0];\n    const bnd = alt ? parseBreakend(alt) : undefined;\n    const startPos = feature.get('start');\n    const refName = feature.get('refName');\n    const f = (ref) => assembly.getCanonicalRefName(ref) || ref;\n    if (alt === '<TRA>') {\n        const INFO = feature.get('INFO');\n        return {\n            pos: startPos,\n            refName: f(refName),\n            mateRefName: f(INFO.CHR2[0]),\n            matePos: INFO.END[0] - 1,\n        };\n    }\n    else if (bnd === null || bnd === void 0 ? void 0 : bnd.MatePosition) {\n        const matePosition = bnd.MatePosition.split(':');\n        return {\n            pos: startPos,\n            refName: f(refName),\n            mateRefName: f(matePosition[0]),\n            matePos: +matePosition[1] - 1,\n        };\n    }\n    else if (feature.get('mate')) {\n        const mate = feature.get('mate');\n        return {\n            pos: startPos,\n            refName: f(refName),\n            mateRefName: f(mate.refName),\n            matePos: mate.start,\n        };\n    }\n    else {\n        return {\n            pos: startPos,\n            refName: f(refName),\n            mateRefName: f(refName),\n            matePos: feature.get('end'),\n        };\n    }\n}\nexport function stripIds(arr) {\n    return arr.map(({ id, displays, ...rest }) => ({\n        ...rest,\n        displays: displays.map(({ id, ...rest }) => rest),\n    }));\n}\nexport function makeTitle(f) {\n    return `${f.get('name') || f.get('id') || 'breakend'} split detail`;\n}\n","import { when } from '@jbrowse/core/util';\nimport { getBreakendCoveringRegions, makeTitle, stripIds } from './util';\nexport async function navToMultiLevelBreak({ stableViewId, feature, assemblyName, session, mirror, tracks: viewTracks = [], }) {\n    const { assemblyManager } = session;\n    const assembly = await assemblyManager.waitForAssembly(assemblyName);\n    if (!assembly) {\n        throw new Error(`assembly ${assemblyName} not found`);\n    }\n    const { refName, pos, mateRefName, matePos } = getBreakendCoveringRegions({\n        feature,\n        assembly: assembly,\n    });\n    let view = session.views.find(f => f.id === stableViewId);\n    if (!view) {\n        view = session.addView('BreakpointSplitView', {\n            id: stableViewId,\n            type: 'BreakpointSplitView',\n            displayName: makeTitle(feature),\n            views: [\n                {\n                    type: 'LinearGenomeView',\n                    hideHeader: true,\n                    tracks: stripIds(viewTracks),\n                },\n                {\n                    type: 'LinearGenomeView',\n                    hideHeader: true,\n                    tracks: stripIds(mirror ? [...viewTracks].reverse() : viewTracks),\n                },\n            ],\n        });\n    }\n    view.setDisplayName(makeTitle(feature));\n    const r1 = assembly.regions.find(r => r.refName === refName);\n    const r2 = assembly.regions.find(r => r.refName === mateRefName);\n    if (!r1 || !r2) {\n        throw new Error(\"can't find regions\");\n    }\n    await Promise.all([\n        view.views[0].navToLocations([\n            {\n                refName,\n                start: r1.start,\n                end: pos,\n                assemblyName,\n            },\n            {\n                refName,\n                start: pos + 1,\n                end: r1.end,\n                assemblyName,\n            },\n        ]),\n        view.views[1].navToLocations([\n            {\n                refName: mateRefName,\n                start: r2.start,\n                end: matePos,\n                assemblyName,\n            },\n            {\n                refName: mateRefName,\n                start: matePos + 1,\n                end: r2.end,\n                assemblyName,\n            },\n        ]),\n    ]);\n    await when(() => view.views[1].initialized && view.views[0].initialized);\n    view.views[1].zoomTo(10);\n    view.views[0].zoomTo(10);\n    view.views[1].centerAt(matePos, mateRefName);\n    view.views[0].centerAt(pos, refName);\n}\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { Button, DialogActions, DialogContent } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { getSnapshot } from 'mobx-state-tree';\nimport Checkbox2 from './Checkbox2';\nimport { navToMultiLevelBreak } from './navToMultiLevelBreak';\nconst BreakendMultiLevelOptionDialog = observer(function ({ session, handleClose, feature, assemblyName, stableViewId, view, }) {\n    const [copyTracks, setCopyTracks] = useState(true);\n    const [mirror, setMirror] = useState(true);\n    return (_jsxs(Dialog, { open: true, onClose: handleClose, title: \"Multi-level breakpoint split view options\", children: [_jsxs(DialogContent, { children: [_jsx(\"div\", { children: \"Launch multi-level breakpoint split view\" }), view ? (_jsxs(_Fragment, { children: [_jsx(Checkbox2, { checked: copyTracks, label: \"Copy tracks into the new view\", onChange: event => {\n                                    setCopyTracks(event.target.checked);\n                                } }), copyTracks ? (_jsx(Checkbox2, { checked: mirror, disabled: !copyTracks, label: \"Mirror the copied tracks (only available if copying tracks and using two level)\", onChange: event => {\n                                    setMirror(event.target.checked);\n                                } })) : null] })) : null] }), _jsxs(DialogActions, { children: [_jsx(Button, { onClick: () => {\n                            ;\n                            (async () => {\n                                try {\n                                    await navToMultiLevelBreak({\n                                        stableViewId,\n                                        session,\n                                        tracks: copyTracks && view\n                                            ? getSnapshot(view.tracks)\n                                            : [],\n                                        mirror,\n                                        feature,\n                                        assemblyName,\n                                    });\n                                }\n                                catch (e) {\n                                    console.error(e);\n                                    session.notifyError(`${e}`, e);\n                                }\n                            })();\n                            handleClose();\n                        }, variant: \"contained\", color: \"primary\", autoFocus: true, children: \"OK\" }), _jsx(Button, { color: \"secondary\", variant: \"contained\", onClick: () => {\n                            handleClose();\n                        }, children: \"Cancel\" })] })] }));\n});\nexport default BreakendMultiLevelOptionDialog;\n","import { gatherOverlaps, getSession, when } from '@jbrowse/core/util';\nimport { getSnapshot } from 'mobx-state-tree';\nimport { getBreakendCoveringRegions, makeTitle, stripIds } from './util';\nexport function singleLevelFocusedSnapshotFromBreakendFeature({ feature, session, assemblyName, windowSize = 0, }) {\n    const { assemblyManager } = session;\n    const assembly = assemblyManager.get(assemblyName);\n    if (!assembly) {\n        throw new Error(`assembly ${assemblyName} not found`);\n    }\n    if (!assembly.regions) {\n        throw new Error(`assembly ${assemblyName} regions not loaded`);\n    }\n    const coverage = getBreakendCoveringRegions({\n        feature,\n        assembly,\n    });\n    const { refName, mateRefName } = coverage;\n    const topRegion = assembly.regions.find(f => f.refName === refName);\n    const bottomRegion = assembly.regions.find(f => f.refName === mateRefName);\n    return {\n        coverage,\n        snap: {\n            type: 'BreakpointSplitView',\n            views: [\n                {\n                    type: 'LinearGenomeView',\n                    displayedRegions: gatherOverlaps([\n                        {\n                            ...topRegion,\n                            end: coverage.pos + windowSize,\n                            assemblyName,\n                        },\n                        {\n                            ...bottomRegion,\n                            start: coverage.matePos - windowSize,\n                            assemblyName,\n                        },\n                    ]),\n                },\n            ],\n            displayName: makeTitle(feature),\n        },\n    };\n}\nexport function singleLevelEncompassingSnapshotFromBreakendFeature({ feature, session, assemblyName, }) {\n    const { assemblyManager } = session;\n    const assembly = assemblyManager.get(assemblyName);\n    if (!assembly) {\n        throw new Error(`assembly ${assemblyName} not found`);\n    }\n    if (!assembly.regions) {\n        throw new Error(`assembly ${assemblyName} regions not loaded`);\n    }\n    const coverage = getBreakendCoveringRegions({\n        feature,\n        assembly,\n    });\n    const { refName, mateRefName } = coverage;\n    const topRegion = assembly.regions.find(f => f.refName === refName);\n    const bottomRegion = assembly.regions.find(f => f.refName === mateRefName);\n    return {\n        coverage,\n        snap: {\n            type: 'BreakpointSplitView',\n            views: [\n                {\n                    type: 'LinearGenomeView',\n                    displayedRegions: gatherOverlaps([\n                        { ...topRegion, assemblyName },\n                        { ...bottomRegion, assemblyName },\n                    ]),\n                },\n            ],\n            displayName: makeTitle(feature),\n        },\n    };\n}\nexport async function navToSingleLevelBreak({ stableViewId, feature, assemblyName, session, tracks, windowSize = 0, focusOnBreakends, }) {\n    var _a;\n    const { snap, coverage } = focusOnBreakends\n        ? singleLevelFocusedSnapshotFromBreakendFeature({\n            feature,\n            assemblyName,\n            session,\n            windowSize,\n        })\n        : singleLevelEncompassingSnapshotFromBreakendFeature({\n            feature,\n            assemblyName,\n            session,\n        });\n    const { refName, pos: startPos, mateRefName, matePos: endPos } = coverage;\n    let view = session.views.find(f => f.id === stableViewId);\n    if (!view) {\n        view = session.addView('BreakpointSplitView', {\n            ...snap,\n            views: [\n                {\n                    ...snap.views[0],\n                    tracks: tracks ? stripIds(getSnapshot(tracks)) : [],\n                },\n            ],\n        });\n    }\n    else {\n        (_a = view.views[0]) === null || _a === void 0 ? void 0 : _a.setDisplayedRegions(snap.views[0].displayedRegions);\n        view.setDisplayName(snap.displayName);\n    }\n    const lgv = view.views[0];\n    await when(() => lgv.initialized);\n    const l0 = lgv.bpToPx({\n        coord: Math.max(0, startPos - windowSize),\n        refName,\n    });\n    const r0 = lgv.bpToPx({\n        coord: endPos + windowSize,\n        refName: mateRefName,\n    });\n    if (l0 && r0) {\n        lgv.moveTo({\n            ...l0,\n            offset: l0.offsetPx,\n        }, {\n            ...r0,\n            offset: r0.offsetPx,\n        });\n    }\n    else {\n        getSession(lgv).notify('Unable to navigate to breakpoint');\n    }\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { Dialog } from '@jbrowse/core/ui';\nimport { useLocalStorage } from '@jbrowse/core/util';\nimport { Button, DialogActions, DialogContent, TextField } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport Checkbox2 from './Checkbox2';\nimport { navToSingleLevelBreak } from './navToSingleLevelBreak';\nconst BreakendSingleLevelOptionDialog = observer(function ({ session, handleClose, feature, stableViewId, assemblyName, view, }) {\n    const [copyTracks, setCopyTracks] = useState(true);\n    const [focusOnBreakends, setFocusOnBreakends] = useState(true);\n    const [windowSize, setWindowSize] = useLocalStorage('breakpointWindowSize', '5000');\n    return (_jsxs(Dialog, { open: true, onClose: handleClose, title: \"Single-level breakpoint split view options\", children: [_jsxs(DialogContent, { children: [view ? (_jsx(Checkbox2, { checked: copyTracks, label: \"Copy tracks into the new view\", onChange: event => {\n                            setCopyTracks(event.target.checked);\n                        } })) : null, _jsx(Checkbox2, { checked: copyTracks, label: \"Focus on breakends\", onChange: event => {\n                            setFocusOnBreakends(event.target.checked);\n                        } }), _jsx(TextField, { label: \"Window size (bp)\", value: windowSize, onChange: event => {\n                            setWindowSize(event.target.value);\n                        } })] }), _jsxs(DialogActions, { children: [_jsx(Button, { onClick: () => {\n                            ;\n                            (async () => {\n                                try {\n                                    const { assemblyManager } = session;\n                                    const assembly = await assemblyManager.waitForAssembly(assemblyName);\n                                    if (!assembly) {\n                                        throw new Error(`assembly ${assemblyName} not found`);\n                                    }\n                                    await navToSingleLevelBreak({\n                                        feature,\n                                        assemblyName,\n                                        focusOnBreakends,\n                                        session,\n                                        stableViewId,\n                                        tracks: view === null || view === void 0 ? void 0 : view.tracks,\n                                        windowSize: +windowSize || 0,\n                                    });\n                                }\n                                catch (e) {\n                                    console.error(e);\n                                    session.notifyError(`${e}`, e);\n                                }\n                            })();\n                            handleClose();\n                        }, variant: \"contained\", color: \"primary\", autoFocus: true, children: \"OK\" }), _jsx(Button, { color: \"secondary\", variant: \"contained\", onClick: () => {\n                            handleClose();\n                        }, children: \"Cancel\" })] })] }));\n});\nexport default BreakendSingleLevelOptionDialog;\n"],"names":["useStyles","makeStyles","Checkbox2","checked","disabled","label","onChange","classes","_jsx","FormControlLabel","Checkbox","getBreakendCoveringRegions","feature","assembly","_a","alt","bnd","parseBreakend","startPos","refName","f","ref","INFO","matePosition","mate","stripIds","arr","id","displays","rest","makeTitle","navToMultiLevelBreak","stableViewId","assemblyName","session","mirror","viewTracks","assemblyManager","pos","mateRefName","matePos","view","r1","r","r2","when","BreakendMultiLevelOptionDialog","observer","handleClose","copyTracks","setCopyTracks","useState","setMirror","_jsxs","Dialog","DialogContent","_Fragment","event","DialogActions","Button","getSnapshot","e","singleLevelFocusedSnapshotFromBreakendFeature","windowSize","coverage","topRegion","bottomRegion","gatherOverlaps","singleLevelEncompassingSnapshotFromBreakendFeature","navToSingleLevelBreak","tracks","focusOnBreakends","snap","endPos","lgv","l0","r0","getSession","BreakendSingleLevelOptionDialog","setFocusOnBreakends","setWindowSize","useLocalStorage","TextField"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}