import{u as p,r as n,j as e,c as d,I as E,J as j,L,b as g,O as T,K as z}from"./rpcWorker-X0469dqW.js";import{M as F}from"./MenuItem-CxTol2m1.js";import{F as k}from"./FormControlLabel-1s92K5sy.js";import{C as w}from"./Checkbox-CZRpP34h.js";import"./dividerClasses-BkmUKgu8.js";function D(){return e.jsxs("div",{children:[e.jsx(T,{size:20,style:{marginRight:20}}),e.jsx(j,{display:"inline",children:"Creating SVG"})]})}function h({children:t,...r}){return e.jsx("div",{children:e.jsx(z,{...r,children:t})})}function f(t,r){return p.useLocalStorage(`svg-${t}`,r)}function V({model:t,handleClose:r}){const a=p.getSession(t),o=typeof OffscreenCanvas<"u",[i,v]=n.useState(o),[y,l]=n.useState(!1),[c,u]=n.useState(),[m,b]=f("file","jbrowse.svg"),[x,C]=f("theme",a.themeName||"default");return e.jsxs(d.Dialog,{open:!0,onClose:r,title:"Export SVG",children:[e.jsxs(E,{children:[c?e.jsx(d.ErrorMessage,{error:c}):y?e.jsx(D,{}):null,e.jsx(h,{helperText:"filename",value:m,onChange:s=>{b(s.target.value)}}),a.allThemes?e.jsx(h,{select:!0,label:"Theme",value:x,onChange:s=>{C(s.target.value)},children:Object.entries(a.allThemes()).map(([s,S])=>e.jsx(F,{value:s,children:S.name||"(Unknown name)"},s))}):null,o?e.jsx(k,{control:e.jsx(w,{checked:i,onChange:()=>{v(s=>!s)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):e.jsx(j,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),e.jsxs(L,{children:[e.jsx(g,{variant:"contained",color:"secondary",onClick:()=>{r()},children:"Cancel"}),e.jsx(g,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{l(!0),u(void 0);try{await t.exportSvg({rasterizeLayers:i,filename:m,themeName:x}),r()}catch(s){console.error(s),u(s)}finally{l(!1)}},children:"Submit"})]})]})}export{V as default};
//# sourceMappingURL=ExportSvgDialog-CePgZhsG.js.map
