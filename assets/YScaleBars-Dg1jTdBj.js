import{j as e,u as j,o as u,Y as v}from"./rpcWorker-X0469dqW.js";import{g as w}from"./util-BsWi1yaP.js";const m=t=>{const{color:n="rgb(255,255,255,0.8)"}=t;return e.jsx("rect",{...t,...j.getFillProps(n)})},F=function({source:t,idx:n,rowHeight:o,labelWidth:s,model:l,exportSVG:i}){const c=Math.min(20,o),{needsCustomLegend:r,graphType:a,needsFullHeightScalebar:g,rowHeightTooSmallForScalebar:f,renderColorBoxes:p}=l,h=p?15:0,d=s+h+5,S=(i?10:0)||(a&&!f?50:0);return e.jsxs(e.Fragment,{children:[g?null:e.jsx(m,{y:n*o+1,x:S,width:d,height:c}),t.color?e.jsx(m,{y:n*o+1,x:S,width:h,height:r?o:c,color:t.color}):null]})},y=function({source:t,idx:n,rowHeight:o,model:s,exportSVG:l}){const{graphType:i,rowHeightTooSmallForScalebar:c,renderColorBoxes:r}=s,a=Math.min(o,12),g=o>=6,f=r?15:0,h=(l?10:0)||(i&&!c?50:0);return g?e.jsx("text",{y:n*o+13,x:h+f+2,fontSize:a,children:t.name}):null},b=u(function({model:t,rowHeight:n,exportSVG:o}){const{graphType:s,needsFullHeightScalebar:l,rowHeightTooSmallForScalebar:i,renderColorBoxes:c,sources:r,labelWidth:a}=t,f=a+(c?15:0)+5,h=(o?10:0)||(s&&!i?50:0);return r?e.jsxs(e.Fragment,{children:[l?e.jsx(m,{y:0,x:h,width:f,height:(r.length+.25)*n}):null,r.map((d,x)=>e.jsx(F,{source:d,idx:x,model:t,rowHeight:n,exportSVG:o,labelWidth:a},`${d.name}-${x}`)),r.map((d,x)=>e.jsx(y,{source:d,idx:x,model:t,rowHeight:n,exportSVG:o},`${d.name}-text-${x}`))]}):null}),B=u(function({model:t,orientation:n,exportSVG:o}){const{labelWidth:s}=t,{width:l}=j.getContainingView(t);return e.jsxs(e.Fragment,{children:[e.jsx("g",{transform:`translate(${o?0:w(t)},0)`,children:e.jsx(v,{model:t,orientation:n})}),e.jsx("g",{transform:`translate(${l-s-100},0)`,children:e.jsx(b,{exportSVG:o,model:t,rowHeight:12})})]})}),$=u(({model:t})=>{const{ticks:n,scaleType:o}=t,{width:s}=j.getContainingView(t),l=`[${n==null?void 0:n.values[0]}-${n==null?void 0:n.values[1]}]${o==="log"?" (log scale)":""}`,i=j.measureText(l,14),r=s-i-25;return e.jsxs(e.Fragment,{children:[e.jsx(m,{y:0,x:r,width:i+6,height:16}),e.jsx("text",{y:13,x:r,children:l})]})}),O=u(function({model:t,orientation:n,exportSVG:o}){const{sources:s,rowHeight:l,rowHeightTooSmallForScalebar:i,needsCustomLegend:c,ticks:r}=t;return s!=null&&s.length?e.jsxs(e.Fragment,{children:[e.jsx(b,{exportSVG:o,model:t,rowHeight:t.rowHeight}),i||c?e.jsx($,{model:t}):s.map((a,g)=>e.jsx("g",{transform:`translate(0 ${l*g})`,children:e.jsx(v,{model:t,orientation:n})},`${JSON.stringify(r)}-${g}`))]}):null}),W=u(function({children:t,model:n,exportSVG:o}){const{height:s}=n;return o?t:e.jsx("svg",{style:{position:"absolute",top:0,left:0,pointerEvents:"none",height:s,width:j.getContainingView(n).width},children:t})}),H=u(function(t){const{model:n,orientation:o,exportSVG:s}=t,{showSidebar:l,stats:i,needsFullHeightScalebar:c,sources:r}=n;return i&&r?e.jsx(W,{...t,children:l?c?e.jsx(B,{model:n,orientation:o,exportSVG:s}):e.jsx(O,{model:n,orientation:o,exportSVG:s}):null}):null});export{H as Y};
//# sourceMappingURL=YScaleBars-Dg1jTdBj.js.map
