import{U as s,u as i,ac as c,ad as d,a4 as u}from"./rpcWorker-X0469dqW.js";async function g(t){const a=s.getRpcSessionId(t),{rpcManager:n}=i.getSession(t),o=i.getContainingView(t);if(!o.initialized||t.error||!t.statsReadyAndRegionNotTooLarge)return;t.setLoading(!0);const e=await n.call(a,"CoreGetFeatures",{sessionId:a,regions:o.staticBlocks.contentBlocks,adapterConfig:t.adapterConfig});t.setFeatures(i.dedupe(e,r=>r.id())),t.setLoading(!1)}function p(t,a,n){c(t,d(async()=>{try{await a()}catch(o){u(t)&&t.setError(o)}},n))}function w(t){p(t,async()=>{await g(t)},{delay:1e3})}export{w as doAfterAttach};
//# sourceMappingURL=afterAttach-1GAVdSzU.js.map
