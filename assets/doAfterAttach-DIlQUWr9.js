import{k as n,u as i,l as c,t as x,q as C}from"./index-DUxFddIG.js";function w(t){n(t,async()=>{const r=i.getContainingView(t);t.autorunReady&&t.setCurrSortBpPerPx(r.bpPerPx)},{delay:1e3}),n(t,async()=>{const{rpcManager:r}=i.getSession(t),s=i.getContainingView(t);if(!t.autorunReady)return;const{sortedBy:a,adapterConfig:e,rendererType:p,sortReady:f}=t,{bpPerPx:y}=s;if(a&&(!f||t.currSortBpPerPx===s.bpPerPx)){const{pos:o,refName:g,assemblyName:u}=a;await t.rendererType.renderInClient(r,{assemblyName:u,regions:[{start:o,end:o+1,refName:g,assemblyName:u}],adapterConfig:e,rendererType:p.name,sessionId:x.getRpcSessionId(t),layoutId:i.getContainingTrack(t).id,timeout:1e6,statusCallback:P=>{c(t)&&t.setMessage(P)},...t.renderPropsPre()})}c(t)&&(t.setCurrSortBpPerPx(y),t.setSortReady(!0))},{delay:1e3}),n(t,async()=>{if(!t.autorunReady)return;const{adapterConfig:r}=t,{staticBlocks:s}=i.getContainingView(t),{modifications:a,simplexModifications:e}=await C({model:t,adapterConfig:r,blocks:s});c(t)&&(t.updateVisibleModifications(a),t.setSimplexModifications(e),t.setModificationsReady(!0))},{delay:1e3})}export{w as doAfterAttach};
//# sourceMappingURL=doAfterAttach-DIlQUWr9.js.map
