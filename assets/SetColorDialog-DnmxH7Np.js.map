{"version":3,"file":"SetColorDialog-DnmxH7Np.js","sources":["../../node_modules/@jbrowse/plugin-variants/esm/shared/components/SourcesDataGrid.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/sourcesGridUtils.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/components/SourcesGridHeader.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/components/SourcesGrid.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/components/ui/SetColorDialogBulkEditPanel.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/components/ui/SetColorDialogHelpfulTips.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/components/ui/SetColorDialogRowPalettizer.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/components/ui/SetColorDialog.js","../../node_modules/@jbrowse/plugin-variants/esm/shared/components/SetColorDialog.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { SanitizedHTML } from '@jbrowse/core/ui';\nimport ColorPicker from '@jbrowse/core/ui/ColorPicker';\nimport { getStr, measureGridWidth } from '@jbrowse/core/util';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    cell: {\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n});\nexport default function SourcesDataGrid({ rows, onChange, setSelected, }) {\n    const { classes } = useStyles();\n    const { id: _id, name: _name, label: _label, color: _color, baseUri: _baseUri, HP: _HP, ...rest } = rows[0];\n    const [currSort, setCurrSort] = useState({\n        idx: 0,\n        field: null,\n    });\n    return (_jsx(\"div\", { style: { height: 400, width: '100%' }, children: _jsx(DataGrid, { checkboxSelection: true, disableRowSelectionOnClick: true, onRowSelectionModelChange: arg => {\n                setSelected([...arg.ids]);\n            }, rows: rows, rowHeight: 25, columnHeaderHeight: 33, columns: [\n                {\n                    field: 'color',\n                    headerName: 'Color',\n                    renderCell: params => {\n                        const { value, id } = params;\n                        return (_jsx(ColorPicker, { color: value || 'blue', onChange: c => {\n                                const elt = rows.find(f => f.name === id);\n                                if (elt) {\n                                    elt.color = c;\n                                }\n                                onChange([...rows]);\n                            } }));\n                    },\n                },\n                {\n                    field: 'label',\n                    headerName: 'Name',\n                    width: measureGridWidth(rows.map(r => r.label)),\n                },\n                ...Object.keys(rest).map(val => ({\n                    field: val,\n                    renderCell: ({ value }) => (_jsx(\"div\", { className: classes.cell, children: _jsx(SanitizedHTML, { html: getStr(value) }) })),\n                    width: measureGridWidth(rows.map(r => `${r[val]}`)),\n                })),\n            ], sortModel: [], onSortModelChange: args => {\n                const sort = args[0];\n                const idx = (currSort.idx + 1) % 2;\n                const field = sort.field || currSort.field;\n                setCurrSort({ idx, field });\n                onChange(field\n                    ? [...rows].sort((a, b) => {\n                        const aa = getStr(a[field]);\n                        const bb = getStr(b[field]);\n                        return idx === 1 ? aa.localeCompare(bb) : bb.localeCompare(aa);\n                    })\n                    : rows);\n            } }) }));\n}\n","export function moveUp(arr, sel, by = 1) {\n    const idxs = sel\n        .map(l => arr.findIndex(v => v.name === l))\n        .sort((a, b) => a - b);\n    let lastIdx = 0;\n    for (const old of idxs) {\n        const idx = Math.max(lastIdx, old - by);\n        if (idx >= lastIdx) {\n            arr.splice(idx, 0, arr.splice(old, 1)[0]);\n        }\n        lastIdx = lastIdx + 1;\n    }\n    return arr;\n}\nexport function moveDown(arr, sel, by = 1) {\n    const idxs = sel\n        .map(l => arr.findIndex(v => v.name === l))\n        .sort((a, b) => b - a);\n    let lastIdx = arr.length - 1;\n    for (const old of idxs) {\n        const idx = Math.min(lastIdx, old + by);\n        if (idx <= lastIdx) {\n            arr.splice(idx, 0, arr.splice(old, 1)[0]);\n        }\n        lastIdx = lastIdx - 1;\n    }\n    return arr;\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { ColorPopover } from '@jbrowse/core/ui/ColorPicker';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport KeyboardDoubleArrowDownIcon from '@mui/icons-material/KeyboardDoubleArrowDown';\nimport KeyboardDoubleArrowUpIcon from '@mui/icons-material/KeyboardDoubleArrowUp';\nimport { Button } from '@mui/material';\nimport { moveDown, moveUp } from '../sourcesGridUtils';\nexport default function SourcesGridHeader({ selected, onChange, rows, showTips, }) {\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [widgetColor, setWidgetColor] = useState('blue');\n    return (_jsxs(_Fragment, { children: [_jsx(Button, { disabled: !selected.length, onClick: event => {\n                    setAnchorEl(event.currentTarget);\n                }, children: \"Change color of selected items\" }), _jsxs(Button, { onClick: () => {\n                    onChange(moveUp([...rows], selected));\n                }, disabled: !selected.length, children: [_jsx(KeyboardArrowUpIcon, {}), showTips ? 'Move selected items up' : null] }), _jsxs(Button, { onClick: () => {\n                    onChange(moveDown([...rows], selected));\n                }, disabled: !selected.length, children: [_jsx(KeyboardArrowDownIcon, {}), showTips ? 'Move selected items down' : null] }), _jsxs(Button, { onClick: () => {\n                    onChange(moveUp([...rows], selected, rows.length));\n                }, disabled: !selected.length, children: [_jsx(KeyboardDoubleArrowUpIcon, {}), showTips ? 'Move selected items to top' : null] }), _jsxs(Button, { onClick: () => {\n                    onChange(moveDown([...rows], selected, rows.length));\n                }, disabled: !selected.length, children: [_jsx(KeyboardDoubleArrowDownIcon, {}), showTips ? 'Move selected items to bottom' : null] }), _jsx(ColorPopover, { anchorEl: anchorEl, color: widgetColor, onChange: c => {\n                    setWidgetColor(c);\n                    for (const id of selected) {\n                        const elt = rows.find(f => f.name === id);\n                        if (elt) {\n                            elt.color = c;\n                        }\n                    }\n                    onChange([...rows]);\n                }, onClose: () => {\n                    setAnchorEl(null);\n                } })] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport SourcesDataGrid from './SourcesDataGrid';\nimport SourcesGridHeader from './SourcesGridHeader';\nfunction SourcesGrid({ rows, onChange, showTips, }) {\n    const [selected, setSelected] = useState([]);\n    return (_jsxs(\"div\", { children: [_jsx(SourcesGridHeader, { selected: selected, rows: rows, showTips: showTips, onChange: onChange }), rows.length ? (_jsx(SourcesDataGrid, { rows: rows, onChange: onChange, setSelected: setSelected })) : (_jsx(\"div\", { children: \"No rows\" }))] }));\n}\nexport default SourcesGrid;\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { ErrorMessage } from '@jbrowse/core/ui';\nimport { Button, DialogActions, DialogContent, TextField, Typography, } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    textAreaFont: {\n        fontFamily: 'Courier New',\n    },\n});\nexport default function SetColorDialogBulkEditPanel({ onClose, currLayout, }) {\n    const { classes } = useStyles();\n    const [val, setVal] = useState('');\n    const [error, setError] = useState();\n    return (_jsxs(_Fragment, { children: [_jsxs(DialogContent, { children: [_jsx(Typography, { children: \"Paste CSV or TSV. If a header column is present. First line is a header. If a column called \\\"name\\\" is present, it uses that to connect to IDs in the table, otherwise it uses the first column no.\" }), error ? _jsx(ErrorMessage, { error: error }) : null, _jsx(TextField, { variant: \"outlined\", multiline: true, minRows: 5, placeholder: 'name,population\\nHG00098,GBR\\nHG00101,GBR\\nHG00459,CHS\\n...', maxRows: 10, fullWidth: true, value: val, onChange: event => {\n                            setVal(event.target.value);\n                        }, slotProps: {\n                            input: {\n                                classes: {\n                                    input: classes.textAreaFont,\n                                },\n                            },\n                        } })] }), _jsxs(DialogActions, { children: [_jsx(Button, { variant: \"contained\", color: \"secondary\", onClick: () => {\n                            const lines = val\n                                .split('\\n')\n                                .map(f => f.trim())\n                                .filter(f => !!f);\n                            const fields = lines[0].split(/[,\\t]/gm);\n                            if (fields.includes('name')) {\n                                setError('');\n                                const oldLayout = Object.fromEntries(currLayout.map(record => [record.name, record]));\n                                const newData = Object.fromEntries(lines.slice(1).map(line => {\n                                    const cols = line.split(/[,\\t]/gm);\n                                    const newRecord = Object.fromEntries(cols.map((col, idx) => [fields[idx], col]));\n                                    return [\n                                        newRecord.name,\n                                        {\n                                            ...newRecord,\n                                            ...oldLayout[newRecord.name],\n                                        },\n                                    ];\n                                }));\n                                onClose(currLayout.map(record => ({\n                                    ...record,\n                                    ...newData[record.name],\n                                })));\n                            }\n                            else {\n                                setError(new Error('No \"name\" column found on line 1'));\n                            }\n                        }, children: \"Update rows\" }), _jsx(Button, { variant: \"contained\", color: \"primary\", onClick: () => {\n                            const lines = val\n                                .split('\\n')\n                                .map(f => f.trim())\n                                .filter(f => !!f);\n                            const fields = lines[0].split(/[,\\t]/gm);\n                            if (fields.includes('name')) {\n                                setError('');\n                                const oldLayout = Object.fromEntries(currLayout.map(record => [record.name, record]));\n                                const newData = Object.fromEntries(lines.slice(1).map(line => {\n                                    const cols = line.split(/[,\\t]/gm);\n                                    const newRecord = Object.fromEntries(cols.map((col, idx) => [fields[idx], col]));\n                                    return [\n                                        newRecord.name,\n                                        {\n                                            ...newRecord,\n                                            ...oldLayout[newRecord.name],\n                                        },\n                                    ];\n                                }));\n                                onClose(currLayout.map(record => ({\n                                    ...newData[record.name],\n                                })));\n                            }\n                            else {\n                                setError(new Error('No \"name\" column found on line 1'));\n                            }\n                        }, children: \"Replace rows\" }), _jsx(Button, { variant: \"contained\", color: \"inherit\", onClick: () => {\n                            onClose();\n                        }, children: \"Cancel\" })] })] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function SetColorDialogHelpfulTips() {\n    return (_jsxs(_Fragment, { children: [\"Helpful tips\", _jsxs(\"ul\", { children: [_jsx(\"li\", { children: \"You can select rows in the table with the checkboxes\" }), _jsx(\"li\", { children: \"Multi-select is enabled with shift-click and control-click\" }), _jsx(\"li\", { children: \"The \\\"Move selected items up/down\\\" can re-arrange subtracks\" }), _jsx(\"li\", { children: \"Sorting the data grid itself can also re-arrange subtracks\" }), _jsx(\"li\", { children: \"Changes are applied when you hit Submit\" }), _jsx(\"li\", { children: \"You can click and drag the dialog box to move it on the screen\" }), _jsx(\"li\", { children: \"Columns in the table can be hidden using a vertical '...' menu on the right side of each column\" })] })] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { set1 } from '@jbrowse/core/ui/colors';\nimport { randomColor } from '@jbrowse/core/util/color';\nimport { Button } from '@mui/material';\nexport default function SetColorDialogRowPalettizer({ setCurrLayout, currLayout, }) {\n    if (!currLayout.length || !currLayout[0]) {\n        return null;\n    }\n    const fields = Object.keys(currLayout[0]).filter(f => f !== 'name' &&\n        f !== 'color' &&\n        f !== 'label' &&\n        f !== 'id' &&\n        f !== 'HP');\n    return (_jsxs(\"div\", { children: [\"Create color palette based on...\", fields.map(r => (_jsx(Button, { variant: \"contained\", color: \"inherit\", onClick: () => {\n                    const map = new Map();\n                    for (const row of currLayout) {\n                        const val = map.get(row[r]);\n                        if (!val) {\n                            map.set(row[r], 1);\n                        }\n                        else {\n                            map.set(row[r], val + 1);\n                        }\n                    }\n                    const ret = Object.fromEntries([...map.entries()]\n                        .sort((a, b) => a[1] - b[1])\n                        .map((r, idx) => [r[0], set1[idx] || randomColor(r[0])]));\n                    setCurrLayout(currLayout.map(row => ({\n                        ...row,\n                        color: ret[row[r]],\n                    })));\n                }, children: r }, r))), _jsx(Button, { onClick: () => {\n                    setCurrLayout(currLayout.map(row => ({\n                        ...row,\n                        color: undefined,\n                    })));\n                }, children: \"Clear colors\" })] }));\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport DraggableDialog from '@jbrowse/core/ui/DraggableDialog';\nimport { useLocalStorage } from '@jbrowse/core/util';\nimport { Button, DialogActions, DialogContent } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nimport SetColorDialogBulkEditPanel from './SetColorDialogBulkEditPanel';\nimport SetColorDialogHelpfulTips from './SetColorDialogHelpfulTips';\nimport SetColorDialogRowPalettizer from './SetColorDialogRowPalettizer';\nconst useStyles = makeStyles()({\n    content: {\n        minWidth: 800,\n    },\n    fr: {\n        float: 'right',\n        display: 'flex',\n        gap: 8,\n    },\n});\nexport default function SetColorDialog({ model, handleClose, title = 'Color/arrangement editor', enableBulkEdit = false, enableRowPalettizer = false, showTipsStorageKey = 'setColorDialog-showTips', SourcesGridComponent, }) {\n    const { classes } = useStyles();\n    const { sources } = model;\n    const [showBulkEditor, setShowBulkEditor] = useState(false);\n    const [currLayout, setCurrLayout] = useState(structuredClone(sources || []));\n    const [showTips, setShowTips] = useLocalStorage(showTipsStorageKey, false);\n    return (_jsx(DraggableDialog, { open: true, onClose: handleClose, maxWidth: \"xl\", title: title, children: showBulkEditor && enableBulkEdit ? (_jsx(SetColorDialogBulkEditPanel, { currLayout: currLayout, onClose: arg => {\n                if (arg) {\n                    setCurrLayout(arg);\n                }\n                setShowBulkEditor(false);\n            } })) : (_jsxs(_Fragment, { children: [_jsxs(DialogContent, { className: classes.content, children: [_jsxs(\"div\", { className: classes.fr, children: [_jsx(Button, { variant: \"contained\", onClick: () => {\n                                        setShowTips(!showTips);\n                                    }, children: showTips ? 'Hide tips' : 'Show tips' }), enableBulkEdit ? (_jsx(Button, { color: \"secondary\", variant: \"contained\", onClick: () => {\n                                        setShowBulkEditor(!showBulkEditor);\n                                    }, children: \"Show Bulk row editor\" })) : null] }), showTips ? _jsx(SetColorDialogHelpfulTips, {}) : null, enableRowPalettizer ? (_jsxs(_Fragment, { children: [_jsx(\"br\", {}), _jsx(SetColorDialogRowPalettizer, { currLayout: currLayout, setCurrLayout: setCurrLayout })] })) : null, _jsx(SourcesGridComponent, { rows: currLayout, onChange: setCurrLayout, showTips: showTips })] }), _jsxs(DialogActions, { children: [_jsx(Button, { variant: \"contained\", type: \"submit\", color: \"inherit\", onClick: () => {\n                                model.clearLayout();\n                                setCurrLayout(model.sources || []);\n                            }, children: \"Clear custom settings\" }), _jsx(Button, { variant: \"contained\", color: \"secondary\", onClick: () => {\n                                handleClose();\n                                setCurrLayout([...(model.sources || [])]);\n                            }, children: \"Cancel\" }), _jsx(Button, { variant: \"contained\", color: \"primary\", type: \"submit\", onClick: () => {\n                                model.setLayout(currLayout);\n                                handleClose();\n                            }, children: \"Submit\" })] })] })) }));\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport SourcesGrid from './SourcesGrid';\nimport SharedSetColorDialog from './ui/SetColorDialog';\nexport default function SetColorDialog({ model, handleClose, }) {\n    return (_jsx(SharedSetColorDialog, { model: model, handleClose: handleClose, title: \"Multi-sample variant display - Color/arrangement editor\", enableBulkEdit: true, enableRowPalettizer: true, showTipsStorageKey: \"multivariant-showTips\", SourcesGridComponent: SourcesGrid }));\n}\n"],"names":["useStyles","makeStyles","SourcesDataGrid","rows","onChange","setSelected","classes","_id","_name","_label","_color","_baseUri","_HP","rest","currSort","setCurrSort","useState","_jsx","DataGrid","arg","params","value","id","ColorPicker","c","elt","f","measureGridWidth","r","val","SanitizedHTML","getStr","args","sort","idx","field","a","b","aa","bb","moveUp","arr","sel","by","idxs","v","lastIdx","old","moveDown","SourcesGridHeader","selected","showTips","anchorEl","setAnchorEl","widgetColor","setWidgetColor","_jsxs","_Fragment","Button","event","KeyboardArrowUpIcon","KeyboardArrowDownIcon","KeyboardDoubleArrowUpIcon","KeyboardDoubleArrowDownIcon","ColorPopover","SourcesGrid","SetColorDialogBulkEditPanel","onClose","currLayout","setVal","error","setError","DialogContent","Typography","ErrorMessage","TextField","DialogActions","lines","fields","oldLayout","record","newData","line","cols","newRecord","col","SetColorDialogHelpfulTips","SetColorDialogRowPalettizer","setCurrLayout","map","row","ret","set1","randomColor","SetColorDialog","model","handleClose","title","enableBulkEdit","enableRowPalettizer","showTipsStorageKey","SourcesGridComponent","sources","showBulkEditor","setShowBulkEditor","setShowTips","useLocalStorage","DraggableDialog","SharedSetColorDialog"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}