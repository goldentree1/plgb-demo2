import{o as U,r as t,u as P,j as e,c as D,I as y,K as u,ak as E,L,b as x,m as k}from"./rpcWorker-X0469dqW.js";import{E as A}from"./ExpandMore-B4oTtE2Q.js";import{D as m}from"./DialogContentText-BGtmxhiB.js";import{C as M}from"./Collapse-xysby-Ya.js";const N=k()(a=>({dialogContent:{display:"flex",flexDirection:"column"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:a.transitions.create("transform",{duration:a.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}})),J=U(function({onClose:a,model:h}){const{classes:s,cx:p}=N(),[i,f]=t.useState(""),[o,j]=t.useState(""),[l,b]=t.useState(""),[r,v]=t.useState(""),[d,C]=t.useState(!1),{jbrowse:c}=P.getSession(h),S=!!(i&&o||l||r);function g(){i&&o?c.addPlugin({name:i,umdUrl:o}):l?c.addPlugin({esmUrl:l}):r&&c.addPlugin({cjsUrl:r})}return e.jsx(D.Dialog,{open:!0,onClose:a,title:"Add custom plugin",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs(y,{className:s.dialogContent,children:[e.jsx(m,{children:"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build."}),e.jsx(u,{label:"Plugin name",variant:"outlined",value:i,onChange:n=>{f(n.target.value)}}),e.jsx(u,{label:"Plugin URL",variant:"outlined",value:o,onChange:n=>{j(n.target.value)}}),e.jsxs(m,{onClick:()=>{C(!d)},children:[e.jsx(E,{className:p(s.expand,{[s.expandOpen]:d}),"aria-expanded":d,"aria-label":"show more",children:e.jsx(A,{})}),"Advanced options"]}),e.jsx(M,{in:d,children:e.jsxs("div",{className:s.dialogContent,children:[e.jsx(m,{children:"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below."}),e.jsx(u,{label:"ESM build URL",variant:"outlined",value:l,onChange:n=>{b(n.target.value)}}),e.jsx(u,{label:"CJS build URL",variant:"outlined",value:r,onChange:n=>{v(n.target.value)}})]})})]}),e.jsxs(L,{children:[e.jsx(x,{variant:"contained",onClick:a,children:"Cancel"}),e.jsx(x,{variant:"contained",color:"primary",onClick:g,disabled:!S,children:"Submit"})]})]})})});export{J as default};
//# sourceMappingURL=AddCustomPluginDialog-CARBtsVT.js.map
