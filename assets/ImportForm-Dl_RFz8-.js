import{a as b,j as i,G as M,aS as R,H as T,b8 as $,z as P,E as w,I as L,o as E,u as G,b9 as A,ba as F,c as W,bb as C,as as I,C as O,B as N,bc as z,bd as D,m as U}from"./index-DUxFddIG.js";import{s as V}from"./getThemeProps-Dm0Ny9BI.js";import{u as B,G as _}from"./Grid-CJVm9s4-.js";const q=$(),H=V("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`maxWidth${R(String(o.maxWidth))}`],o.fixed&&n.fixed,o.disableGutters&&n.disableGutters]}}),K=e=>B({props:e,name:"MuiContainer",defaultTheme:q}),J=(e,n)=>{const o=l=>P(n,l),{classes:c,fixed:d,disableGutters:m,maxWidth:s}=e,t={root:["root",s&&`maxWidth${R(String(s))}`,d&&"fixed",m&&"disableGutters"]};return T(t,o,c)};function Q(e={}){const{createStyledComponent:n=H,useThemeProps:o=K,componentName:c="MuiContainer"}=e,d=n(({theme:s,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:t})=>t.fixed&&Object.keys(s.breakpoints.values).reduce((l,r)=>{const u=r,a=s.breakpoints.values[u];return a!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${a}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:t})=>({...t.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...t.maxWidth&&t.maxWidth!=="xs"&&{[s.breakpoints.up(t.maxWidth)]:{maxWidth:`${s.breakpoints.values[t.maxWidth]}${s.breakpoints.unit}`}}}));return b.forwardRef(function(t,l){const r=o(t),{className:u,component:a="div",disableGutters:g=!1,fixed:f=!1,maxWidth:p="lg",classes:y,...x}=r,h={...r,component:a,disableGutters:g,fixed:f,maxWidth:p},v=J(h,c);return i.jsx(d,{as:a,ownerState:h,className:M(v.root,u),ref:l,...x})})}const X=Q({createStyledComponent:L("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`maxWidth${R(String(o.maxWidth))}`],o.fixed&&n.fixed,o.disableGutters&&n.disableGutters]}}),useThemeProps:e=>w({props:e,name:"MuiContainer"})}),Y=E(function({model:e,selectedAsm:n,value:o,setValue:c,setOption:d}){const m=G.getSession(e),{assemblyManager:s,textSearchManager:t}=m,{rankSearchResults:l}=e,r=e.searchScope(n),u=s.get(n);return i.jsx(A,{fetchResults:a=>F({queryString:a,assembly:u,textSearchManager:t,rankSearchResults:l,searchScope:r}),model:e,assemblyName:n,value:o,minWidth:270,onChange:a=>{c(a)},onSelect:a=>{d(a)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})}),Z=U()(e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}})),ne=E(function({model:e}){var n;const{classes:o}=Z(),c=G.getSession(e),{assemblyNames:d,assemblyManager:m}=c,{error:s}=e,[t,l]=b.useState(d[0]),[r,u]=b.useState(),a=m.get(t),g=d.length?a==null?void 0:a.error:"No configured assemblies",f=g||s,[p,y]=b.useState(""),x=a==null?void 0:a.regions,h=!!x,v=x&&((n=x[0])===null||n===void 0?void 0:n.refName)||"";return b.useEffect(()=>{y(v)},[v,t]),i.jsxs("div",{className:o.container,children:[f?i.jsx(W.ErrorMessage,{error:f}):null,i.jsx(X,{className:o.importFormContainer,children:i.jsx("form",{onSubmit:async S=>{var j;if(S.preventDefault(),e.setError(void 0),p)try{(r==null?void 0:r.getDisplayString())===p&&r.hasLocation()?await z({option:r,model:e,assemblyName:t}):!((j=r==null?void 0:r.results)===null||j===void 0)&&j.length?e.setSearchResults(r.results,r.getLabel(),t):a&&await D({input:p,assembly:a,model:e})}catch(k){console.error(k),c.notify(`${k}`,"warning")}},children:i.jsxs(_,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[i.jsx(C,{children:i.jsx(W.AssemblySelector,{onChange:S=>{l(S)},localStorageKey:"lgv",session:c,selected:t})}),t?g?i.jsx(I,{style:{color:"red"}}):h?i.jsx(C,{children:i.jsx(Y,{value:p,setValue:y,selectedAsm:t,setOption:u,model:e})}):i.jsx(O,{size:20,disableShrink:!0}):null,i.jsx(C,{children:i.jsx(N,{type:"submit",disabled:!p,className:o.button,variant:"contained",color:"primary",children:"Open"})}),i.jsx(C,{children:i.jsx(N,{disabled:!p,className:o.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(t)},variant:"contained",color:"secondary",children:"Show all regions in assembly"})})]})})})]})});export{ne as default};
//# sourceMappingURL=ImportForm-Dl_RFz8-.js.map
