import{l as Z,n as Q,r as x,q as Y,j as t,v as Ee,w as ee,x as E,y as ke,av as $,J as C,ca as W,cb as Me,h as Ae,o as f,b8 as Pe,b$ as H,u as te,bU as Le,K as v,T as Fe,ak as j,cc as Re,m as S,c as ae,b_ as D,bO as F,bj as re,am as Ie,b as O,S as ne,cd as ze,c4 as He,d as N,ce as De,M as Ue}from"./rpcWorker-X0469dqW.js";import{S as Oe}from"./SanitizedHTML-Clz1F4j3.js";import{A as se,a as oe,E as ie}from"./ExpandMore-B4oTtE2Q.js";import{c as Ve}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{F as We}from"./FormControlLabel-1s92K5sy.js";import{C as qe}from"./Checkbox-CZRpP34h.js";import{j as Be}from"./jexlStrings-DvrVYljo.js";import{a as Je}from"./ColorPicker-BiE6j3uq.js";import{D as V}from"./Delete-DYvCOH6E.js";import{C as R,a as le}from"./CardContent-i53G99vb.js";import{L as q}from"./ListItem-DW5aKptE.js";import{M as ce}from"./MenuItem-CxTol2m1.js";import"./Collapse-xysby-Ya.js";import"./dividerClasses-BkmUKgu8.js";function Ke(e){return Z("MuiAccordionDetails",e)}Q("MuiAccordionDetails",["root"]);const _e=e=>{const{classes:a}=e;return ee({root:["root"]},Ke,a)},Ge=E("div",{name:"MuiAccordionDetails",slot:"Root"})(ke(({theme:e})=>({padding:e.spacing(1,2,2)}))),ue=x.forwardRef(function(a,r){const s=Y({props:a,name:"MuiAccordionDetails"}),{className:n,...i}=s,c=s,u=_e(c);return t.jsx(Ge,{className:Ee(u.root,n),ref:r,ownerState:c,...i})});function Xe(e){return Z("MuiCardHeader",e)}const I=Q("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Ze=e=>{const{classes:a}=e;return ee({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Xe,a)},Qe=E("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,a)=>[{[`& .${I.title}`]:a.title},{[`& .${I.subheader}`]:a.subheader},a.root]})({display:"flex",alignItems:"center",padding:16}),Ye=E("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),et=E("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),tt=E("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${W.root}:where(& .${I.title})`]:{display:"block"},[`.${W.root}:where(& .${I.subheader})`]:{display:"block"}}),z=x.forwardRef(function(a,r){const s=Y({props:a,name:"MuiCardHeader"}),{action:n,avatar:i,component:c="div",disableTypography:u=!1,subheader:d,subheaderTypographyProps:w,title:y,titleTypographyProps:k,slots:M={},slotProps:A={},...m}=s,o={...s,component:c,disableTypography:u},l=Ze(o),h={slots:M,slotProps:{title:k,subheader:w,...A}};let p=y;const[g,b]=$("title",{className:l.title,elementType:C,externalForwardedProps:h,ownerState:o,additionalProps:{variant:i?"body2":"h5",component:"span"}});p!=null&&p.type!==C&&!u&&(p=t.jsx(g,{...b,children:p}));let T=d;const[ve,be]=$("subheader",{className:l.subheader,elementType:C,externalForwardedProps:h,ownerState:o,additionalProps:{variant:i?"body2":"body1",color:"textSecondary",component:"span"}});T!=null&&T.type!==C&&!u&&(T=t.jsx(ve,{...be,children:T}));const[je,ye]=$("root",{ref:r,className:l.root,elementType:Qe,externalForwardedProps:{...h,...m,component:c},ownerState:o}),[$e,Ce]=$("avatar",{className:l.avatar,elementType:Ye,externalForwardedProps:h,ownerState:o}),[Se,we]=$("content",{className:l.content,elementType:tt,externalForwardedProps:h,ownerState:o}),[Te,Ne]=$("action",{className:l.action,elementType:et,externalForwardedProps:h,ownerState:o});return t.jsxs(je,{...ye,children:[i&&t.jsx($e,{...Ce,children:i}),t.jsxs(Se,{...we,children:[p,T]}),n&&t.jsx(Te,{...Ne,children:n})]})});var L={exports:{}},at=L.exports,B;function rt(){return B||(B=1,(function(e,a){(function(r,s){typeof Ve=="function"?e.exports=s():r.pluralize=s()})(at,function(){var r=[],s=[],n={},i={},c={};function u(o){return typeof o=="string"?new RegExp("^"+o+"$","i"):o}function d(o,l){return o===l?l:o===o.toLowerCase()?l.toLowerCase():o===o.toUpperCase()?l.toUpperCase():o[0]===o[0].toUpperCase()?l.charAt(0).toUpperCase()+l.substr(1).toLowerCase():l.toLowerCase()}function w(o,l){return o.replace(/\$(\d{1,2})/g,function(h,p){return l[p]||""})}function y(o,l){return o.replace(l[0],function(h,p){var g=w(l[1],arguments);return d(h===""?o[p-1]:h,g)})}function k(o,l,h){if(!o.length||n.hasOwnProperty(o))return l;for(var p=h.length;p--;){var g=h[p];if(g[0].test(l))return y(l,g)}return l}function M(o,l,h){return function(p){var g=p.toLowerCase();return l.hasOwnProperty(g)?d(p,g):o.hasOwnProperty(g)?d(p,o[g]):k(g,p,h)}}function A(o,l,h,p){return function(g){var b=g.toLowerCase();return l.hasOwnProperty(b)?!0:o.hasOwnProperty(b)?!1:k(b,b,h)===b}}function m(o,l,h){var p=l===1?m.singular(o):m.plural(o);return(h?l+" ":"")+p}return m.plural=M(c,i,r),m.isPlural=A(c,i,r),m.singular=M(i,c,s),m.isSingular=A(i,c,s),m.addPluralRule=function(o,l){r.push([u(o),l])},m.addSingularRule=function(o,l){s.push([u(o),l])},m.addUncountableRule=function(o){if(typeof o=="string"){n[o.toLowerCase()]=!0;return}m.addPluralRule(o,"$0"),m.addSingularRule(o,"$0")},m.addIrregularRule=function(o,l){l=l.toLowerCase(),o=o.toLowerCase(),c[o]=l,i[l]=o},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(o){return m.addIrregularRule(o[0],o[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(o){return m.addPluralRule(o[0],o[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(o){return m.addSingularRule(o[0],o[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(m.addUncountableRule),m})})(L)),L.exports}var J=rt(),P=Me(),nt=Ae(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}));const st=f(function({slot:e}){return t.jsxs(Pe,{children:[t.jsx(We,{label:e.name,control:t.jsx(qe,{checked:e.value,onChange:a=>{e.set(a.target.checked)}})}),t.jsx(H,{children:e.description})]})}),K='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',ot=S()(e=>({callbackEditor:{marginTop:"16px",borderBottom:`1px solid ${e.palette.divider}`,width:"100%",fontFamily:K},textAreaFont:{fontFamily:K},callbackContainer:{width:"100%",overflowX:"auto"},error:{color:"red",fontSize:"0.8em"}})),it=f(function({slot:e}){const{classes:a}=ot(),[r,s]=x.useState(e.value),[n,i]=x.useState(),c=te.useDebounce(r,400);return x.useEffect(()=>{var u;try{const d=c.startsWith("jexl:")?c:`jexl:${c}`;if(d==="jexl:")throw new Error("Empty jexl expression is not valid");Be.stringToJexlExpression(d,(u=Le(e).pluginManager)===null||u===void 0?void 0:u.jexl),e.set(d),i(void 0)}catch(d){console.error({e:d}),i(d)}},[c,e]),t.jsxs(t.Fragment,{children:[n?t.jsx("p",{className:a.error,children:`${n}`}):null,t.jsxs("div",{className:a.callbackContainer,children:[t.jsx(v,{multiline:!0,className:a.callbackEditor,value:r.startsWith("jexl:")?r.split("jexl:")[1]:r,onChange:u=>{s(u.target.value)},style:{background:n?"#fdd":void 0},slotProps:{input:{classes:{input:a.textAreaFont}}}}),t.jsx("p",{children:e.description}),t.jsx(Fe,{title:t.jsxs("div",{children:["Callbacks are written in Jexl format. Click to learn more.",t.jsx("br",{})," Names of available context items: ",e.contextVariable]}),arrow:!0,children:t.jsx(j,{color:"primary",onClick:()=>{const u=window.open("https://github.com/TomFrost/Jexl","_blank","noopener,noreferrer");u&&(u.opener=null)},children:t.jsx(Re,{})})})]})]})}),lt=e=>{const{value:a="#000",label:r="",TextFieldProps:s={},onChange:n}=e,[i,c]=x.useState(!1);return t.jsxs("div",{style:{display:"flex"},children:[t.jsx(v,{value:a,label:r,onClick:()=>{c(!i)},onChange:u=>{n(u.target.value)},...s}),t.jsx("div",{style:{marginTop:10},children:t.jsx(x.Suspense,{fallback:null,children:t.jsx(Je,{color:a,onChange:u=>{n(u)}})})})]})},ct=f(function(e){const{slot:a}=e;return t.jsx(lt,{label:a.name,value:a.value,onChange:r=>{a.set(r)},TextFieldProps:{helperText:a.description,fullWidth:!0}})});function U(e){const{helperText:a}=e;return t.jsx(v,{...e,helperText:t.jsx(ae.SanitizedHTML,{html:a||""}),fullWidth:!0,slotProps:{formHelperText:{component:"div"}}})}const ut="12px",_='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',dt=S()(e=>({error:{color:"red",fontSize:"0.8em"},callbackEditor:{fontFamily:_,fontSize:ut,background:e.palette.background.default,width:800,marginTop:"16px",border:"1px solid rgba(0,0,0,0.42)"},callbackContainer:{width:"100%",overflowX:"auto"},textAreaFont:{fontFamily:_}})),G=f(function({slot:a}){const{classes:r}=dt(),[s,n]=x.useState(JSON.stringify(a.value,null,2)),[i,c]=x.useState();return x.useEffect(()=>{try{c(void 0),a.set(JSON.parse(s))}catch(u){console.error({e:u}),c(u)}},[s,a]),t.jsxs(t.Fragment,{children:[i?t.jsx("p",{className:r.error,children:`${i}`}):null,t.jsxs("div",{className:r.callbackContainer,children:[t.jsx(D,{shrink:!0,htmlFor:"json-editor",children:a.name}),t.jsx(v,{id:"json-editor",className:r.callbackEditor,value:s,helperText:a.description,multiline:!0,onChange:u=>{n(u.target.value)},style:{background:i?"#fdd":void 0},slotProps:{input:{classes:{input:r.textAreaFont}}}})]})]})}),de=f(function({slot:e}){const[a,r]=x.useState(e.value);return x.useEffect(()=>{var s;const n=Number.parseFloat(a);Number.isNaN(n)?(s=e.reset)===null||s===void 0||s.call(e):e.set(n)},[e,a]),t.jsx(U,{label:e.name,helperText:e.description,value:a,type:"number",onChange:s=>{r(s.target.value)}})}),pt=S()(e=>({card:{marginTop:e.spacing(1)}})),mt=f(function({slot:e}){const{classes:a}=pt(),[r,s]=x.useState("");return t.jsxs(t.Fragment,{children:[t.jsx(D,{children:e.name}),[...e.value].map(([n,i])=>t.jsxs(R,{raised:!0,className:a.card,children:[t.jsx(z,{title:n,action:t.jsx(j,{onClick:()=>{e.remove(n)},children:t.jsx(V,{})})}),t.jsx(le,{children:t.jsx(de,{slot:{value:i,set:c=>{e.add(n,c)}}})})]},n)),t.jsx(R,{raised:!0,className:a.card,children:t.jsx(z,{disableTypography:!0,title:t.jsx(v,{fullWidth:!0,value:r,placeholder:"add new",onChange:n=>{s(n.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsx(j,{disabled:r==="",onClick:()=>{e.add(r,0),s("")},children:t.jsx(re,{})})})}}})})}),t.jsx(H,{children:e.description})]})}),pe=f(function({slot:e}){const[a,r]=x.useState(""),[s,n]=x.useState(!1);return t.jsxs(t.Fragment,{children:[e.name?t.jsx(D,{children:e.name}):null,t.jsxs(Ie,{disablePadding:!0,children:[e.value.map((i,c)=>t.jsx(q,{disableGutters:!0,children:t.jsx(v,{value:i,onChange:u=>{e.setAtIndex(c,u.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsx(j,{onClick:()=>{e.removeAtIndex(c)},children:t.jsx(V,{})})})}}})},`${JSON.stringify(i)}-${c}`)),s?t.jsx(q,{disableGutters:!0,children:t.jsx(v,{value:a,placeholder:"add new",onChange:i=>{r(i.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsxs(t.Fragment,{children:[t.jsx(O,{color:"primary",variant:"contained",style:{margin:2},"data-testid":`stringArrayAdd-${e.name}`,onClick:()=>{n(!1),e.add(a),r("")},children:"OK"}),t.jsx(O,{color:"primary",variant:"contained",style:{margin:2},onClick:()=>{n(!1),r("")},children:"Cancel"})]})})}}})}):null,t.jsx(O,{color:"primary",variant:"contained",style:{margin:4},disabled:s,onClick:()=>{n(!0)},children:"Add item"})]}),t.jsx(H,{children:e.description})]})}),ht=S()(e=>({card:{marginTop:e.spacing(1)}})),xt=f(function({slot:e}){const{classes:a}=ht(),[r,s]=x.useState("");return t.jsxs(t.Fragment,{children:[t.jsx(D,{children:e.name}),[...e.value].map(([n,i])=>t.jsxs(R,{raised:!0,className:a.card,children:[t.jsx(z,{title:n,action:t.jsx(j,{onClick:()=>{e.remove(n)},children:t.jsx(V,{})})}),t.jsx(le,{children:t.jsx(pe,{slot:{name:e.name,value:i,description:`Values associated with entry ${n}`,setAtIndex:(c,u)=>{e.setAtKeyIndex(n,c,u)},removeAtIndex:c=>{e.removeAtKeyIndex(n,c)},add:c=>{e.addToKey(n,c)}}})})]},n)),t.jsx(R,{raised:!0,className:a.card,children:t.jsx(z,{disableTypography:!0,title:t.jsx(v,{fullWidth:!0,value:r,placeholder:"add new",onChange:n=>{s(n.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsx(j,{disabled:r==="",onClick:()=>{e.add(r,[]),s("")},children:t.jsx(re,{})})})}}})})}),t.jsx(H,{children:e.description})]})}),me=S()(e=>({paper:{display:"flex",marginBottom:e.spacing(2),position:"relative"},paperContent:{width:"100%"},slotModeSwitch:{width:24,background:e.palette.secondary.light,display:"flex",justifyContent:"center",alignItems:"center"}})),he=f(function({slot:e}){return t.jsx(U,{label:e.name,helperText:e.description,value:e.value,onChange:a=>{e.set(a.target.value)}})}),ft=f(function({slot:e}){return t.jsx(v,{label:e.name,helperText:e.description,multiline:!0,value:e.value,onChange:a=>{e.set(a.target.value)}})}),gt=()=>t.jsx(He,{children:t.jsx("path",{d:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z"})}),vt=f(function({slot:e}){const[a,r]=x.useState(e.value);return x.useEffect(()=>{const s=Number.parseInt(a,10);Number.isNaN(s)||e.set(s)},[e,a]),t.jsx(U,{label:e.name,helperText:e.description,value:a,type:"number",onChange:s=>{r(s.target.value)}})}),bt=f(function({slot:e,slotSchema:a}){const r=ze(P.getSubType(a)),s=P.getUnionSubTypes(P.getUnionSubTypes(P.getSubType(r.properties.value))[1]).map(n=>n.value);return t.jsx(U,{value:e.value,label:e.name,select:!0,helperText:e.description,onChange:n=>{e.set(n.target.value)},children:s.map(n=>t.jsx(ce,{value:n,children:n},n))})}),jt=f(function({slot:e}){var a;return t.jsx(ae.FileSelector,{location:e.value,setLocation:r=>{e.set(r)},name:e.name,description:e.description,rootModel:(a=te.getEnv(e).pluginManager)===null||a===void 0?void 0:a.rootModel})}),X={string:he,text:ft,fileLocation:jt,stringArray:pe,stringArrayMap:xt,numberMap:mt,number:de,integer:vt,color:ct,stringEnum:bt,boolean:st,frozen:G,configRelationships:G},yt=f(function({slot:e,slotSchema:a}){const{classes:r}=me(),{type:s}=e;let n=e.isCallback?it:X[s];return n||(console.warn(`no slot editor defined for ${s}, editing as string`),n=he),s in X||console.warn(`SlotEditor needs to implement ${s}`),t.jsxs(ne,{className:r.paper,children:[t.jsx("div",{className:r.paperContent,children:t.jsx(n,{slot:e,slotSchema:a})}),t.jsx("div",{className:r.slotModeSwitch,children:e.contextVariable.length?t.jsx(j,{onClick:()=>e.isCallback?e.convertToValue():e.convertToCallback(),title:`convert to ${e.isCallback?"regular value":"callback"}`,children:e.isCallback?t.jsx(gt,{}):t.jsx(nt,{})}):null})]})}),$t=f(function({typeNameChoices:e,slot:a,slotName:r,onChange:s}){const{classes:n}=me();return t.jsx(ne,{className:n.paper,children:t.jsx("div",{className:n.paperContent,children:t.jsx(v,{value:a.type,label:"Type",select:!0,helperText:`Type of ${r} to use`,fullWidth:!0,onChange:s,children:e.map(i=>t.jsx(ce,{value:i,children:i},i))})})})}),xe=S()(e=>({icon:{color:e.palette.tertiary.contrastText||"#fff"},expansionPanelDetails:{display:"block",padding:e.spacing(1)},accordion:{border:`1px solid ${e.palette.text.primary}`},noOverflow:{width:"100%",overflowX:"auto"}})),fe=f(function(e){const{classes:a}=xe(),{slotName:r,slotSchema:s,schema:n,slot:i=n[r],path:c=[]}=e;if(N.isConfigurationSchemaType(s)){if(i.length)return i.map((d,w)=>{const y=d.type?`${J.singular(r)} ${d.type}`:`${J.singular(r)} ${w+1}`;return t.jsx(fe,{...e,slot:d,slotName:y},y)});const u=N.getTypeNamesFromExplicitlyTypedUnion(s);return t.jsxs(se,{defaultExpanded:!0,className:a.accordion,children:[t.jsx(oe,{expandIcon:t.jsx(ie,{className:a.icon}),children:t.jsx(C,{children:[...c,r].join("➔")})}),t.jsxs(ue,{className:a.expansionPanelDetails,children:[u.length?t.jsx($t,{typeNameChoices:u,slotName:r,slot:i,onChange:d=>{d.target.value!==i.type&&n.setSubschema(r,{type:d.target.value})}}):null,t.jsx(Ue,{className:a.noOverflow,children:t.jsx(ge,{schema:i,path:[...c,r]})})]})]})}else return N.isConfigurationSlotType(s)?t.jsx(yt,{slot:i,slotSchema:s},r):null}),ge=f(function({schema:e,path:a=[]}){const r=De(e).properties;return t.jsx(t.Fragment,{children:Object.entries(r).map(([s,n])=>t.jsx(fe,{slotName:s,slotSchema:n,path:a,schema:e},s))})}),zt=f(function({model:e}){const{classes:a}=xe(),{target:r}=e,s=N.readConfObject(r,"trackId"),n=N.readConfObject(r,"name");return t.jsxs(se,{defaultExpanded:!0,className:a.accordion,children:[t.jsx(oe,{expandIcon:t.jsx(ie,{className:a.icon}),children:t.jsx(C,{children:t.jsx(Oe,{html:n??"Configuration"})})}),t.jsx(ue,{className:a.expansionPanelDetails,"data-testid":"configEditor",children:t.jsx(ge,{schema:r})})]},s)});export{zt as default};
//# sourceMappingURL=ConfigurationEditor-MrCUyXX3.js.map
