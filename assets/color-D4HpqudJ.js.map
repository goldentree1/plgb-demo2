{"version":3,"file":"color-D4HpqudJ.js","sources":["../node_modules/@jbrowse/plugin-alignments/esm/shared/color.js"],"sourcesContent":["import { orientationTypes, pairMap } from '../util';\nexport const PairType = {\n    PROPER_PAIR: 0,\n    LONG_INSERT: 1,\n    SHORT_INSERT: 2,\n    INTER_CHROM: 3,\n    ABNORMAL_ORIENTATION: 4,\n    UNMAPPED_MATE: 5,\n};\nexport const fillColor = {\n    color_fwd_strand_not_proper: '#ECC8C8',\n    color_rev_strand_not_proper: '#BEBED8',\n    color_fwd_strand: '#EC8B8B',\n    color_rev_strand: '#8F8FD8',\n    color_fwd_missing_mate: '#D11919',\n    color_rev_missing_mate: '#1919D1',\n    color_fwd_diff_chr: '#000',\n    color_rev_diff_chr: '#969696',\n    color_pair_lr: '#c8c8c8',\n    color_pair_rr: '#3a3a9d',\n    color_pair_rl: 'teal',\n    color_pair_ll: 'green',\n    color_nostrand: '#c8c8c8',\n    color_interchrom: 'purple',\n    color_longinsert: 'red',\n    color_shortinsert: 'pink',\n    color_unmapped_mate: '#8B008B',\n    color_unknown: 'grey',\n};\nexport const strokeColor = {\n    color_fwd_strand_not_proper: '#CA6767',\n    color_rev_strand_not_proper: '#7272AA',\n    color_fwd_strand: '#DC2A2A',\n    color_rev_strand: '#4141BA',\n    color_fwd_missing_mate: '#921111',\n    color_rev_missing_mate: '#111192',\n    color_fwd_diff_chr: '#000000',\n    color_rev_diff_chr: '#696969',\n    color_pair_lr: '#8C8C8C',\n    color_pair_rr: '#00002A',\n    color_pair_rl: '#005A5A',\n    color_pair_ll: '#005A00',\n    color_nostrand: '#8C8C8C',\n    color_interchrom: '#5A005A',\n    color_longinsert: '#B30000',\n    color_shortinsert: '#FF3A5C',\n    color_unmapped_mate: '#5A005A',\n    color_unknown: '#444',\n};\nconst defaultColor = [\n    fillColor.color_pair_lr,\n    strokeColor.color_pair_lr,\n];\nexport function getPairedType({ type, f1, f2, stats, }) {\n    if (f1.flags !== undefined && f1.flags & 8) {\n        return PairType.UNMAPPED_MATE;\n    }\n    if (type === 'insertSizeAndOrientation' || type === 'orientation') {\n        const orientationType = orientationTypes.fr;\n        const r = orientationType[f1.pair_orientation || ''];\n        if (r && r !== 'LR') {\n            return PairType.ABNORMAL_ORIENTATION;\n        }\n    }\n    if (type === 'insertSizeAndOrientation' || type === 'insertSize') {\n        const sameRef = f1.refName === f2.refName;\n        const tlen = Math.abs(f1.tlen || 0);\n        if (!sameRef) {\n            return PairType.INTER_CHROM;\n        }\n        if (stats) {\n            if (tlen > stats.upper) {\n                return PairType.LONG_INSERT;\n            }\n            if (tlen < stats.lower) {\n                return PairType.SHORT_INSERT;\n            }\n        }\n    }\n    return PairType.PROPER_PAIR;\n}\nexport function getPairedInsertSizeColor(f1, f2, stats) {\n    const pairType = getPairedType({ type: 'insertSize', f1, f2, stats });\n    switch (pairType) {\n        case PairType.UNMAPPED_MATE:\n            return [\n                fillColor.color_unmapped_mate,\n                strokeColor.color_unmapped_mate,\n            ];\n        case PairType.LONG_INSERT:\n            return [fillColor.color_longinsert, strokeColor.color_longinsert];\n        case PairType.SHORT_INSERT:\n            return [\n                fillColor.color_shortinsert,\n                strokeColor.color_shortinsert,\n            ];\n        case PairType.INTER_CHROM:\n            return [fillColor.color_interchrom, strokeColor.color_interchrom];\n        case PairType.PROPER_PAIR:\n            return undefined;\n        default:\n            return undefined;\n    }\n}\nexport function getPairedOrientationColorOrDefault(f) {\n    if (f.flags !== undefined && f.flags & 8) {\n        return [\n            fillColor.color_unmapped_mate,\n            strokeColor.color_unmapped_mate,\n        ];\n    }\n    const type = orientationTypes.fr;\n    const r = type[f.pair_orientation || ''];\n    const type2 = pairMap[r];\n    return r === 'LR'\n        ? undefined\n        : [fillColor[type2], strokeColor[type2]];\n}\nexport function getPairedOrientationColor(f) {\n    return getPairedOrientationColorOrDefault(f) || defaultColor;\n}\nexport function getPairedInsertSizeAndOrientationColor(f1, f2, stats) {\n    return (getPairedOrientationColorOrDefault(f1) ||\n        getPairedInsertSizeColor(f1, f2, stats) ||\n        defaultColor);\n}\nexport function getSingletonColor(f, stats) {\n    const tlen = Math.abs(f.tlen || 0);\n    if (stats && tlen > stats.upper) {\n        return [\n            fillColor.color_fwd_missing_mate,\n            strokeColor.color_fwd_missing_mate,\n        ];\n    }\n    return defaultColor;\n}\nexport function getPairedColor({ type, v0, v1, stats, }) {\n    if (type === 'insertSizeAndOrientation') {\n        return getPairedInsertSizeAndOrientationColor(v0, v1, stats);\n    }\n    if (type === 'orientation') {\n        return getPairedOrientationColor(v0);\n    }\n    if (type === 'insertSize') {\n        return getPairedInsertSizeColor(v0, v1, stats);\n    }\n    return undefined;\n}\n"],"names":["PairType","fillColor","strokeColor","defaultColor","getPairedType","type","f1","f2","stats","r","orientationTypes","sameRef","tlen","getPairedInsertSizeColor","getPairedOrientationColorOrDefault","f","type2","pairMap","getPairedOrientationColor","getPairedInsertSizeAndOrientationColor","getSingletonColor","getPairedColor","v0","v1"],"mappings":"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","x_google_ignoreList":[0]}